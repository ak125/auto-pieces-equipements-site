<!DOCTYPE html>
<html lang="fr" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  
  <!-- Meta optimis√©s -->
  <title>Auto Pi√®ces √âquipements | Pi√®ces auto neuves √† Pavillons-sous-Bois (93)</title>
  <meta name="description" content="Magasin sp√©cialis√© dans la vente de pi√®ces automobiles neuves √† Pavillons-sous-Bois. Livraison rapide, conseils techniques et retrait en magasin. Devis gratuit en ligne.">
  <meta name="keywords" content="pi√®ces auto neuves, accessoires voiture, pavillons-sous-bois, pi√®ces d√©tach√©es, livraison auto 93">
  <meta name="author" content="Auto Pi√®ces √âquipements">
  <meta name="robots" content="index, follow">
  
  <!-- Open Graph optimis√© -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Auto Pi√®ces √âquipements | Magasin de pi√®ces auto neuves 93" />
  <meta property="og:description" content="Commandez vos pi√®ces d√©tach√©es neuves au meilleur prix. Livraison rapide, conseils pro, retrait magasin ou devis gratuit en ligne." />
  <meta property="og:image" content="https://ak125.github.io/auto-pieces-equipements-site/logo.png" />
  <meta property="og:url" content="https://ak125.github.io/auto-pieces-equipements-site/" />
  <meta property="og:locale" content="fr_FR">
  
  <!-- Twitter Cards -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:creator" content="@autopiecessequipements">
  
  <meta name="theme-color" content="#c21f1f" />
  <meta name="google-site-verification" content="votre_code_verification">
  <meta name="geo.region" content="FR-93">
  <meta name="geo.placename" content="Pavillons-sous-Bois">
  
  <!-- Pr√©connexion et pr√©chargement optimis√©s -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://cdn.tailwindcss.com" crossorigin>
  <link rel="preconnect" href="https://unpkg.com" crossorigin>
  
  <!-- Ressources -->
  <link rel="apple-touch-icon" href="logo.png">
  <link rel="icon" href="logo.png" type="image/png">
  <link rel="manifest" href="/site.webmanifest">
  
  <!-- Styles critiques inlined -->
  <style>
    /* Styles strictement critiques maintenus pour le rendu initial */
    :root {
      --primary: #c21f1f;
      --primary-hover: #9e1919;
      --secondary: #ffd700;
      --animation-curve: cubic-bezier(0.4, 0, 0.2, 1);
    }

    .sr-only { position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); border:0 }
    
    .hero-gradient {
      background: linear-gradient(135deg, rgba(194,31,31,0.9) 0%, rgba(0,0,0,0.8) 100%),
                  url('garage-bg.webp') center/cover;
      background-image: linear-gradient(135deg, rgba(194,31,31,0.9) 0%, rgba(0,0,0,0.8) 100%),
                  url('garage-bg.jpg');
    }

    .loading-spinner { 
      animation: spin 1s linear infinite;
      width: 24px;
      height: 24px;
    }
    @keyframes spin { 100% { transform: rotate(360deg); } }
    
    /* Autres styles critiques pour le premier affichage */
    .card-hover {
      transition: transform 0.3s var(--animation-curve), box-shadow 0.3s var(--animation-curve);
    }
    
    /* Les styles non critiques ont √©t√© d√©plac√©s vers styles/main.css */
  </style>
  
  <!-- Polices avec fallback local -->
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" as="style">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" media="print" onload="this.media='all'">
  <noscript>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap">
  </noscript>
  <style>
    /* Fallback de police si Inter ne se charge pas */
    @font-face {
      font-family: 'Inter Fallback';
      src: local('Segoe UI'), local('Helvetica'), local('Arial'), local('sans-serif');
      font-weight: 400;
      font-style: normal;
      font-display: swap;
    }
    @font-face {
      font-family: 'Inter Fallback';
      src: local('Segoe UI Bold'), local('Helvetica Bold'), local('Arial Bold'), local('sans-serif');
      font-weight: 600;
      font-style: normal;
      font-display: swap;
    }
    body {
      font-family: 'Inter', 'Inter Fallback', sans-serif;
    }
  </style>
  
  <!-- Styles non critiques externalis√©s -->
  <link rel="stylesheet" href="styles/main.css" media="print" onload="this.media='all'">
  <noscript><link rel="stylesheet" href="styles/main.css"></noscript>
  
  <!-- Chargement diff√©r√© des styles non critiques -->
  <link rel="stylesheet" href="https://unpkg.com/swiper@8/swiper-bundle.min.css" media="print" onload="this.media='all'">
  <noscript>
    <link rel="stylesheet" href="https://unpkg.com/swiper@8/swiper-bundle.min.css">
  </noscript>
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css" media="print" onload="this.media='all'">
  <noscript>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  </noscript>
  
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js" defer></script>
  
  <!-- Script de d√©tection des fonctionnalit√©s et fallbacks -->
  <script>
    // D√©tection des fonctionnalit√©s et ajout de classes au <html>
    document.documentElement.className = 
      (('IntersectionObserver' in window) ? 'has-io ' : 'no-io ') + 
      (('querySelector' in document) ? 'has-qs ' : 'no-qs ') +
      ((window.CSS && CSS.supports('color', 'var(--primary)')) ? 'has-css-vars ' : 'no-css-vars ');
    
    // Fallback pour les variables CSS
    if (!document.documentElement.classList.contains('has-css-vars')) {
      document.write('<script src="scripts/css-vars-fallback.js"><\/script>');
    }
  </script>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-100 font-sans">
  <!-- En-t√™te de page avec navigation principale (barre sup√©rieure) -->
  <header class="bg-white dark:bg-gray-800 shadow-sm">
    <div class="max-w-7xl mx-auto px-4 py-2">
      <nav aria-label="Navigation principale" class="flex justify-between items-center">
        <a href="/" class="flex items-center gap-3" aria-label="Accueil Auto Pi√®ces √âquipements">
          <img src="logo.webp" srcset="logo.webp 1x, logo@2x.webp 2x" alt="Logo Auto Pi√®ces √âquipements" width="40" height="40" 
               onerror="this.onerror=null; this.src='logo.png'; this.srcset='logo.png 1x, logo@2x.png 2x';">
          <span class="font-bold text-lg hidden sm:inline">Auto Pi√®ces √âquipements</span>
        </a>
        
        <ul class="hidden md:flex space-x-6">
          <li><a href="#services" class="text-gray-700 dark:text-gray-300 hover:text-primary transition">Services</a></li>
          <li><a href="#meilleures-pieces" class="text-gray-700 dark:text-gray-300 hover:text-primary transition">Produits</a></li>
          <li><a href="#avis-clients" class="text-gray-700 dark:text-gray-300 hover:text-primary transition">Avis</a></li>
          <li><a href="#devis" class="text-gray-700 dark:text-gray-300 hover:text-primary transition">Contact</a></li>
        </ul>
        
        <button id="mobile-menu-button" class="md:hidden p-2" aria-expanded="false" aria-controls="mobile-menu" aria-label="Menu">
          <i data-lucide="menu" aria-hidden="true"></i>
        </button>
      </nav>
      
      <!-- Menu mobile -->
      <div id="mobile-menu" class="md:hidden hidden py-4" aria-label="Menu mobile">
        <ul class="space-y-3">
          <li><a href="#services" class="block py-2 hover:text-primary">Services</a></li>
          <li><a href="#meilleures-pieces" class="block py-2 hover:text-primary">Produits</a></li>
          <li><a href="#avis-clients" class="block py-2 hover:text-primary">Avis</a></li>
          <li><a href="#devis" class="block py-2 hover:text-primary">Contact</a></li>
        </ul>
      </div>
    </div>
  </header>

  <!-- Hero Section avec H1 unique -->
  <section class="hero-gradient text-white py-20 px-4" role="banner">
    <div class="max-w-6xl mx-auto text-center staggered-animation">
      <h1 class="text-4xl md:text-6xl font-bold mb-6 animate-delay-100">
        Votre expert en pi√®ces auto<br>
        <span class="text-secondary">√† Pavillons-sous-Bois</span>
      </h1>
      <p class="text-xl mb-8 max-w-2xl mx-auto animate-delay-200">
        Pi√®ces neuves originales ‚Ä¢ Livraison express 24h ‚Ä¢ Garantie 2 ans
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center animate-delay-300">
        <a href="#devis" class="bg-secondary text-gray-900 px-8 py-4 rounded-full font-bold hover:bg-yellow-300 transition">
          üìû Demander un devis gratuit
        </a>
        <a href="#meilleures-pieces" class="border-2 border-white px-8 py-4 rounded-full hover:bg-white/10 transition">
    .service-card:hover {
      transform: translateY(-5px);
    }

    @keyframes ping {
      75%, 100% {
        transform: scale(2);
        opacity: 0;
      }
    }

    .availability-ping {
      animation: ping 1.5s cubic-bezier(0, 0, 0.2, 1) infinite;
    }

    /* Styles pour les services avanc√©s */
    .availability-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background-color: var(--primary);
    }
    
    .comparator-card {
      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      cursor: move;
    }
    
    .comparator-card:hover { 
      transform: scale(1.02); 
    }
    
    .comparator-card.dragging { 
      opacity: 0.5; 
    }
    
    .booking-widget {
      width: 350px;
      transform: translateY(100%);
      transition: transform 0.3s ease;
    }
    
    .booking-widget.active { 
      transform: translateY(0); 
    }
    
    .tracker-timeline {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 1rem;
      position: relative;
    }
    
    .tracker-timeline::before {
      content: '';
      position: absolute;
      top: 25%;
      left: 0;
      right: 0;
      height: 2px;
      background-color: #e5e7eb;
    }
    
    @media (max-width: 768px) {
      .service-comparator { 
        grid-template-columns: 1fr; 
      }
      .booking-widget { 
        width: 100%; 
      }
    }

    /* Styles pour les reviews Google */
    .review-card {
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .review-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    }

    .skeleton-review {
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }
  </style>
  
  <!-- Chargement diff√©r√© des styles non critiques -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" media="print" onload="this.media='all'">
  <noscript>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap">
  </noscript>
  
  <link rel="stylesheet" href="https://unpkg.com/swiper@8/swiper-bundle.min.css" media="print" onload="this.media='all'">
  <noscript>
    <link rel="stylesheet" href="https://unpkg.com/swiper@8/swiper-bundle.min.css">
  </noscript>
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css" media="print" onload="this.media='all'">
  <noscript>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  </noscript>
  
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js" defer></script>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-100 font-sans">
  <!-- Hero Section -->
  <section class="hero-gradient text-white py-20 px-4">
    <div class="max-w-6xl mx-auto text-center staggered-animation">
      <h1 class="text-4xl md:text-6xl font-bold mb-6 animate-delay-100">
        Votre expert en pi√®ces auto<br>
        <span class="text-secondary">√† Pavillons-sous-Bois</span>
      </h1>
      <p class="text-xl mb-8 max-w-2xl mx-auto animate-delay-200">
        Pi√®ces neuves originales ‚Ä¢ Livraison express 24h ‚Ä¢ Garantie 2 ans
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center animate-delay-300">
        <a href="#devis" class="bg-secondary text-gray-900 px-8 py-4 rounded-full font-bold hover:bg-yellow-300 transition">
          üìû Demander un devis gratuit
        </a>
        <a href="#meilleures-pieces" class="border-2 border-white px-8 py-4 rounded-full hover:bg-white/10 transition">
          üîç Voir le catalogue
        </a>
      </div>
    </div>
  </section>

  <!-- Value Propositions -->
  <section class="py-16 bg-gray-50 dark:bg-gray-800">
    <div class="max-w-7xl mx-auto px-4 grid md:grid-cols-3 gap-8">
      <div class="bg-white dark:bg-gray-700 p-8 rounded-xl card-hover">
        <div class="w-16 h-16 bg-primary rounded-full flex items-center justify-center mb-4">
          <i data-lucide="clock" class="text-white text-2xl"></i>
        </div>
        <h3 class="text-xl font-bold mb-2">Livraison Express</h3>
        <p class="text-gray-600 dark:text-gray-300">Recevez vos pi√®ces en 24h dans tout le 93</p>
      </div>
      <div class="bg-white dark:bg-gray-700 p-8 rounded-xl card-hover">
        <div class="w-16 h-16 bg-primary rounded-full flex items-center justify-center mb-4">
          <i data-lucide="shield-check" class="text-white text-2xl"></i>
        </div>
        <h3 class="text-xl font-bold mb-2">Garantie 2 Ans</h3>
        <p class="text-gray-600 dark:text-gray-300">Toutes nos pi√®ces sont garanties d'origine</p>
      </div>
      <div class="bg-white dark:bg-gray-700 p-8 rounded-xl card-hover">
        <div class="w-16 h-16 bg-primary rounded-full flex items-center justify-center mb-4">
          <i data-lucide="headphones" class="text-white text-2xl"></i>
        </div>
        <h3 class="text-xl font-bold mb-2">Experts √Ä Votre Service</h3>
        <p class="text-gray-600 dark:text-gray-300">Conseils personnalis√©s pour tous vos besoins</p>
      </div>
    </div>
  </section>

  <main class="max-w-7xl mx-auto px-4 py-8 pb-16 md:pb-8">
    <!-- Section Services am√©lior√©e -->
    <section id="services" class="relative py-16 bg-gray-50 dark:bg-gray-900 rounded-lg shadow mb-6">
      <h2 class="text-3xl font-bold text-center mb-8">
        <span class="bg-primary text-white px-4 py-2 rounded-full">Nos services experts</span>
      </h2>
      
      <!-- Indicateur de disponibilit√© temps r√©el -->
      <div class="availability-banner bg-primary/10 py-3 mb-8 rounded-lg">
        <div class="max-w-7xl mx-auto px-4 flex items-center justify-center gap-2">
          <span class="availability-dot availability-ping"></span>
          <span class="text-sm font-medium" id="livraisonStatus">Calcul en cours...</span>
        </div>
      </div>

      <!-- Cartes de services -->
      <div class="grid md:grid-cols-3 gap-8 mb-8">
        <!-- Livraison Rapide -->
        <div class="service-card comparator-card group relative bg-white dark:bg-gray-800 rounded-xl p-8 shadow-lg hover:shadow-xl transition-all" data-service="livraison" draggable="true">
          <div class="absolute inset-0 bg-primary opacity-0 group-hover:opacity-10 rounded-xl transition-opacity"></div>
          <div class="w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mb-6">
            <i data-lucide="rocket" class="text-primary w-8 h-8"></i>
          </div>
          <h3 class="text-xl font-bold mb-4 flex items-center gap-2">
            Livraison Express
            <span class="bg-green-100 text-green-800 text-sm px-2 py-1 rounded-full">24/48h</span>
          </h3>
          <p class="text-gray-600 dark:text-gray-300 mb-4">
            Recevez vos pi√®ces en moins de 24h dans un rayon de 50km autour de Pavillons-sous-Bois.
          </p>
          <div class="flex items-center gap-2 text-sm text-primary font-medium">
            <i data-lucide="map-pin" class="w-4 h-4"></i>
            <span>Suivi GPS en temps r√©el</span>
          </div>
          <div class="mt-4 border-t pt-4">
            <div class="flex justify-between text-sm">
              <span>Zones couvertes :</span>
              <span class="font-semibold">93, 75, 94</span>
            </div>
          </div>
        </div>

        <!-- Retrait en Magasin -->
        <div class="service-card comparator-card group relative bg-white dark:bg-gray-800 rounded-xl p-8 shadow-lg hover:shadow-xl transition-all" data-service="retrait" draggable="true">
          <div class="absolute inset-0 bg-primary opacity-0 group-hover:opacity-10 rounded-xl transition-opacity"></div>
          <div class="w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mb-6">
            <i data-lucide="store" class="text-primary w-8 h-8"></i>
          </div>
          <h3 class="text-xl font-bold mb-4 flex items-center gap-2">
            Click & Collect
            <span class="bg-blue-100 text-blue-800 text-sm px-2 py-1 rounded-full">Disponible maintenant</span>
          </h3>
          <p class="text-gray-600 dark:text-gray-300 mb-4">
            Commandez en ligne et r√©cup√©rez vos pi√®ces en magasin en 1h, 7j/7.
          </p>
          <div class="flex items-center gap-2 text-sm text-primary font-medium">
            <i data-lucide="clock" class="w-4 h-4"></i>
            <span>Horaires √©tendus : 8h-20h</span>
          </div>
          <div class="mt-4 border-t pt-4">
            <div class="flex justify-between text-sm">
              <span>Pr√©paration :</span>
              <span class="font-semibold text-green-600">‚â§ 15min</span>
            </div>
          </div>
        </div>

        <!-- Conseils Experts -->
        <div class="service-card comparator-card group relative bg-white dark:bg-gray-800 rounded-xl p-8 shadow-lg hover:shadow-xl transition-all" data-service="conseil" draggable="true">
          <div class="absolute inset-0 bg-primary opacity-0 group-hover:opacity-10 rounded-xl transition-opacity"></div>
          <div class="w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mb-6">
            <i data-lucide="users" class="text-primary w-8 h-8"></i>
          </div>
          <h3 class="text-xl font-bold mb-4 flex items-center gap-2">
            Conseil Expert
            <span class="bg-purple-100 text-purple-800 text-sm px-2 py-1 rounded-full">Gratuit</span>
          </h3>
          <p class="text-gray-600 dark:text-gray-300 mb-4">
            Nos m√©caniciens dipl√¥m√©s vous accompagnent par chat, t√©l√©phone ou en magasin.
          </p>
          <div class="flex items-center gap-2 text-sm text-primary font-medium">
            <i data-lucide="badge-check" class="w-4 h-4"></i>
            <span>Certifi√©s RGE AutoPro</span>
          </div>
          <div class="mt-4 border-t pt-4">
            <div class="flex justify-between text-sm">
              <span>Disponibilit√© :</span>
              <span class="font-semibold">24h/24</span>
            </div>
          </div>
        </div>
      </div>
      
      <!-- R√©sultats de comparaison -->
      <div id="comparisonResults" class="comparison-results hidden bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg mb-8">
        <h3 class="text-xl font-bold mb-4">Comparaison des services</h3>
        <div class="grid md:grid-cols-2 gap-6" id="compareContent">
          <!-- Le contenu sera rempli par JavaScript -->
        </div>
      </div>

      <!-- Suivi de commande int√©gr√© -->
      <div class="order-tracker bg-white dark:bg-gray-800 p-6 rounded-xl shadow mb-8">
        <h3 class="text-xl font-bold mb-6">Suivi de votre commande</h3>
        <div class="tracker-timeline mb-6">
          <div class="tracker-step flex flex-col items-center" data-status="confirmed">
            <div class="w-8 h-8 rounded-full bg-primary flex items-center justify-center mb-2 z-10">
              <i data-lucide="check" class="text-white w-4 h-4"></i>
            </div>
            <span class="text-sm">Confirm√©e</span>
          </div>
          <div class="tracker-step flex flex-col items-center" data-status="preparing">
            <div class="w-8 h-8 rounded-full bg-gray-300 dark:bg-gray-700 flex items-center justify-center mb-2 z-10">
              <i data-lucide="package" class="text-gray-600 dark:text-gray-400 w-4 h-4"></i>
            </div>
            <span class="text-sm">Pr√©paration</span>
          </div>
          <div class="tracker-step flex flex-col items-center" data-status="shipped">
            <div class="w-8 h-8 rounded-full bg-gray-300 dark:bg-gray-700 flex items-center justify-center mb-2 z-10">
              <i data-lucide="truck" class="text-gray-600 dark:text-gray-400 w-4 h-4"></i>
            </div>
            <span class="text-sm">Exp√©di√©e</span>
          </div>
          <div class="tracker-step flex flex-col items-center" data-status="delivered">
            <div class="w-8 h-8 rounded-full bg-gray-300 dark:bg-gray-700 flex items-center justify-center mb-2 z-10">
              <i data-lucide="home" class="text-gray-600 dark:text-gray-400 w-4 h-4"></i>
            </div>
            <span class="text-sm">Livr√©e</span>
          </div>
        </div>
        <div class="text-center">
          <p class="text-sm text-gray-600 dark:text-gray-400">
            Commande #AE1234 | Estimation : <span class="font-medium">Lundi 28 Mars</span>
          </p>
        </div>
      </div>

      <!-- Bandeau de Garantie -->
      <div class="mt-8 bg-primary/10 rounded-xl p-6 text-center border border-primary/20">
        <div class="flex flex-col md:flex-row justify-center items-center gap-4">
          <div class="flex items-center gap-2 text-primary font-bold">
            <i data-lucide="shield-check" class="w-6 h-6"></i>
            <span>Satisfait ou rembours√©</span>
          </div>
          <div class="hidden md:block h-6 w-px bg-primary/20"></div>
          <p class="text-sm text-gray-600 dark:text-gray-300">
            14 jours pour retourner vos pi√®ces - Assistance technique incluse
          </p>
        </div>
      </div>
    </section>

    <!-- Widget de r√©servation flottant -->
    <div id="bookingWidget" class="booking-widget fixed bottom-0 right-0 bg-white dark:bg-gray-800 shadow-xl rounded-tl-xl z-40">
      <div class="p-6">
        <h3 class="text-lg font-bold mb-4 flex items-center justify-between">
          <span>üìÜ R√©servation express</span>
          <button id="closeBooking" class="text-gray-400 hover:text-gray-600">
            <i data-lucide="x" class="w-5 h-5"></i>
          </button>
        </h3>
        <form id="bookingForm" class="space-y-4">
          <div class="form-group">
            <label class="block mb-1 text-sm">Service :</label>
            <select class="booking-select w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600" id="serviceType">
              <option value="livraison">Livraison</option>
              <option value="retrait">Retrait en magasin</option>
              <option value="conseil">Rendez-vous conseil</option>
            </select>
          </div>
          <div class="form-group">
            <label class="block mb-1 text-sm">Date :</label>
            <input type="datetime-local" id="bookingDate" 
                   class="flatpickr w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600">
          </div>
          <button type="submit" class="w-full bg-primary text-white px-4 py-2 rounded hover:bg-primary-hover transition">R√©server maintenant</button>
        </form>
      </div>
    </div>
    <button id="openBooking" class="fixed bottom-6 left-6 bg-primary text-white p-4 rounded-full shadow-xl hover:bg-red-700 transition z-40 md:flex hidden">
      <i data-lucide="calendar" class="w-5 h-5"></i>
    </button>

    <!-- Produits phares -->
    <section id="meilleures-pieces" class="bg-white dark:bg-gray-800 p-6 rounded shadow mb-6">
      <h2 class="text-3xl font-bold mb-6 flex items-center gap-2"><i data-lucide="star"></i> Nos meilleures ventes</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
        <article class="bg-gray-50 dark:bg-gray-700 rounded-xl p-6 card-hover">
          <div class="relative pb-[100%] mb-4">
            <img src="produits/batterie-varta.jpg" alt="Batterie voiture" class="absolute h-full w-full object-contain" loading="lazy">
          </div>
          <h3 class="font-bold mb-2">Batterie Bosch S5</h3>
          <div class="flex justify-between items-center">
            <p class="text-primary font-bold">129‚Ç¨</p>
            <button class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary-hover transition">
              Ajouter au panier
            </button>
          </div>
        </article>
        <article class="bg-gray-50 dark:bg-gray-700 rounded-xl p-6 card-hover">
          <div class="relative pb-[100%] mb-4">
            <img src="produits/filtre-huile-bosch.jpg" alt="Filtre √† huile" class="absolute h-full w-full object-contain" loading="lazy">
          </div>
          <h3 class="font-bold mb-2">Filtre Huile Mann</h3>
          <div class="flex justify-between items-center">
            <p class="text-primary font-bold">12‚Ç¨</p>
            <button class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary-hover transition">
              Ajouter au panier
            </button>
          </div>
        </article>
        <article class="bg-gray-50 dark:bg-gray-700 rounded-xl p-6 card-hover">
          <div class="relative pb-[100%] mb-4">
            <img src="produits/plaquettes-frein.jpg" alt="Plaquettes de frein" class="absolute h-full w-full object-contain" loading="lazy">
          </div>
          <h3 class="font-bold mb-2">Plaquettes Brembo</h3>
          <div class="flex justify-between items-center">
            <p class="text-primary font-bold">45‚Ç¨</p>
            <button class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary-hover transition">
              Ajouter au panier
            </button>
          </div>
        </article>
        <article class="bg-gray-50 dark:bg-gray-700 rounded-xl p-6 card-hover">
          <div class="relative pb-[100%] mb-4">
            <img src="produits/essuie-glace.jpg" alt="Essuie-glace" class="absolute h-full w-full object-contain" loading="lazy">
          </div>
          <h3 class="font-bold mb-2">Essuie-glaces Bosch</h3>
          <div class="flex justify-between items-center">
            <p class="text-primary font-bold">20‚Ç¨</p>
            <button class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary-hover transition">
              Ajouter au panier
            </button>
          </div>
        </article>
      </div>
    </section>
    
    <!-- Suivi Commande -->
    <section class="py-8 bg-white dark:bg-gray-800 p-6 rounded shadow mb-6">
      <h2 class="text-xl font-semibold mb-8 flex items-center gap-2"><i data-lucide="package"></i> Suivi de commande en temps r√©el</h2>
      <div class="bg-gray-100 dark:bg-gray-700 p-6 rounded-xl">
        <div class="relative h-2 bg-gray-300 dark:bg-gray-600 mb-8">
          <div class="progress-bar absolute h-full bg-primary" style="width: 50%"></div>
        </div>
        <div class="grid grid-cols-4 gap-4 text-center">
          <div class="step active">Command√©</div>
          <div class="step active">Pr√©paration</div>
          <div class="step">Exp√©di√©</div>
          <div class="step">Livr√©</div>
        </div>
      </div>
    </section>

    <!-- Section marques support√©es -->
    <section id="marques" class="bg-gray-50 dark:bg-gray-800 p-6 rounded shadow mb-6">
      <h2 class="text-xl font-semibold mb-4 flex items-center gap-2"><i data-lucide="award"></i> Marques principales</h2>
      <div class="grid grid-cols-3 sm:grid-cols-6 gap-4">
        <img src="marques/bosch.svg" alt="Logo Bosch" class="h-12 w-auto mx-auto" loading="lazy">
        <img src="marques/valeo.svg" alt="Logo Valeo" class="h-12 w-auto mx-auto" loading="lazy">
        <img src="marques/febi.svg" alt="Logo Febi" class="h-12 w-auto mx-auto" loading="lazy">
        <img src="marques/textar.svg" alt="Logo Textar" class="h-12 w-auto mx-auto" loading="lazy">
        <img src="marques/mann.svg" alt="Logo Mann-Filter" class="h-12 w-auto mx-auto" loading="lazy">
        <img src="marques/sachs.svg" alt="Logo Sachs" class="h-12 w-auto mx-auto" loading="lazy">
      </div>
    </section>

    <!-- Avis clients - Nouvelle version am√©lior√©e -->
    <section id="avis-clients" class="py-16 bg-white dark:bg-gray-800 p-6 rounded shadow mb-6">
      <!-- En-t√™te avec lien Google -->
      <div class="flex flex-col md:flex-row justify-between items-center mb-12">
        <h2 class="text-3xl font-bold mb-4 md:mb-0">
          ‚ù§Ô∏è Ce que disent nos clients
          <span class="text-primary">4,9/5</span>
        </h2>
        <a href="https://search.google.com/local/reviews?placeid=ChIJVVXZlqAT5kcRICTpgHlqx9A" 
           target="_blank"
           class="bg-primary text-white px-6 py-3 rounded-full hover:bg-red-700 transition flex items-center gap-2">
          <i data-lucide="star"></i>
          Voir tous les avis Google
        </a>
      </div>

      <!-- Grille d'avis dynamique -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="google-reviews-container">
        <!-- Avis g√©n√©r√©s dynamiquement -->
        <div class="skeleton-review bg-gray-100 dark:bg-gray-800 p-6 rounded-xl animate-pulse">
          <div class="h-4 bg-gray-300 dark:bg-gray-700 mb-2 w-2/3"></div>
          <div class="h-4 bg-gray-300 dark:bg-gray-700 mb-4 w-1/2"></div>
          <div class="h-32 bg-gray-300 dark:bg-gray-700 rounded"></div>
        </div>
        <div class="skeleton-review bg-gray-100 dark:bg-gray-800 p-6 rounded-xl animate-pulse">
          <div class="h-4 bg-gray-300 dark:bg-gray-700 mb-2 w-2/3"></div>
          <div class="h-4 bg-gray-300 dark:bg-gray-700 mb-4 w-1/2"></div>
          <div class="h-32 bg-gray-300 dark:bg-gray-700 rounded"></div>
        </div>
        <div class="skeleton-review bg-gray-100 dark:bg-gray-800 p-6 rounded-xl animate-pulse">
          <div class="h-4 bg-gray-300 dark:bg-gray-700 mb-2 w-2/3"></div>
          <div class="h-4 bg-gray-300 dark:bg-gray-700 mb-4 w-1/2"></div>
          <div class="h-32 bg-gray-300 dark:bg-gray-700 rounded"></div>
        </div>
      </div>

      <!-- Schema.org pour am√©liorer le r√©f√©rencement -->
      <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "AutoPartsStore",
        "name": "Auto Pi√®ces √âquipements",
        "aggregateRating": {
          "@type": "AggregateRating",
          "ratingValue": "4.9",
          "reviewCount": "127",
          "bestRating": "5",
          "worstRating": "1"
        },
        "image": "https://ak125.github.io/auto-pieces-equipements-site/logo.png",
        "priceRange": "‚Ç¨‚Ç¨-‚Ç¨‚Ç¨‚Ç¨",
        "address": {
          "@type": "PostalAddress",
          "streetAddress": "184 Av. Aristide Briand",
          "addressLocality": "Les Pavillons-sous-Bois",
          "postalCode": "93320",
          "addressCountry": "FR"
        },
        "telephone": "+33123456789",
        "openingHoursSpecification": [
          {
            "@type": "OpeningHoursSpecification",
            "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
            "opens": "08:00",
            "closes": "19:00"
          },
          {
            "@type": "OpeningHoursSpecification",
            "dayOfWeek": "Saturday",
            "opens": "09:00",
            "closes": "17:00"
          }
        ]
      }
      </script>
    </section>
    
    <!-- Int√©gration UGC -->
    <section class="py-8 bg-white dark:bg-gray-800 p-6 rounded shadow mb-6">
      <h2 class="text-xl font-semibold mb-8 flex items-center gap-2"><i data-lucide="users"></i> Nos clients partagent</h2>
      <div class="ugc-grid grid grid-cols-2 md:grid-cols-4 gap-4">
        <div class="ugc-item relative">
          <img src="ugc/customer1.jpg" loading="lazy" alt="Photo client"
               class="w-full h-48 object-cover rounded-lg">
          <div class="ugc-overlay">"üëç Excellente qualit√©"</div>
        </div>
        <div class="ugc-item relative">
          <img src="ugc/customer2.jpg" loading="lazy" alt="Photo client"
               class="w-full h-48 object-cover rounded-lg">
          <div class="ugc-overlay">"‚ú® Service impeccable"</div>
        </div>
        <div class="ugc-item relative">
          <img src="ugc/customer3.jpg" loading="lazy" alt="Photo client"
               class="w-full h-48 object-cover rounded-lg">
          <div class="ugc-overlay">"üöó Ma voiture est comme neuve"</div>
        </div>
        <div class="ugc-item relative">
          <img src="ugc/customer4.jpg" loading="lazy" alt="Photo client"
               class="w-full h-48 object-cover rounded-lg">
          <div class="ugc-overlay">"‚≠ê Je recommande vivement"</div>
        </div>
      </div>
    </section>
    
    <!-- Programme Fid√©lit√© -->
    <section class="py-8 bg-gradient-to-r from-primary to-secondary text-white p-6 rounded shadow mb-6">
      <div class="flex flex-col md:flex-row items-center justify-between">
        <div class="mb-6 md:mb-0">
          <h2 class="text-xl font-semibold mb-4 flex items-center gap-2"><i data-lucide="award"></i> Votre Carte de Fid√©lit√©</h2>
          <div class="flex items-center gap-4">
            <div class="w-24 h-24 bg-white/10 rounded-full flex items-center justify-center">
              <span class="text-4xl font-bold">4</span>/10
            </div>
            <p>Points jusqu'au prochain niveau</p>
          </div>
        </div>
        <div class="grid grid-cols-3 gap-8">
          <div class="reward-card">
            <div class="text-4xl mb-4">üéÅ</div>
            <p>5% de r√©duction</p>
          </div>
          <div class="reward-card">
            <div class="text-4xl mb-4">üöö</div>
            <p>Livraison gratuite</p>
          </div>
          <div class="reward-card">
            <div class="text-4xl mb-4">üíé</div>
            <p>Cadeau surprise</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Section FAQ -->
    <section id="faq" class="bg-white dark:bg-gray-800 p-6 rounded shadow mb-6">
      <h2 class="text-xl font-semibold mb-4 flex items-center gap-2"><i data-lucide="help-circle"></i> Questions fr√©quentes</h2>
      <div class="space-y-4">
        <div itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
          <h3 itemprop="name" class="font-medium text-primary">Comment conna√Ætre la r√©f√©rence exacte de ma pi√®ce ?</h3>
          <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
            <p itemprop="text" class="mt-2 text-sm">Nos experts peuvent vous aider √† identifier la pi√®ce n√©cessaire via notre service de diagnostic en ligne ou en magasin.</p>
          </div>
        </div>
        <div itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
          <h3 itemprop="name" class="font-medium text-primary">Les pi√®ces sont-elles garanties ?</h3>
          <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
            <p itemprop="text" class="mt-2 text-sm">Oui, toutes nos pi√®ces b√©n√©ficient de la garantie constructeur, g√©n√©ralement entre 1 et 2 ans selon les marques.</p>
          </div>
        </div>
        <div itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
          <h3 itemprop="name" class="font-medium text-primary">Quels sont les d√©lais de livraison ?</h3>
          <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
            <p itemprop="text" class="mt-2 text-sm">Dans le 93, nous livrons g√©n√©ralement en 24h. Pour les autres d√©partements d'√éle-de-France, comptez 2 √† 3 jours ouvr√©s.</p>
          </div>
        </div>
      </div>
    </section>

    <section id="devis" class="bg-white dark:bg-gray-800 p-6 rounded shadow mb-6">
      <h2 class="text-xl font-semibold mb-4 flex items-center gap-2"><i data-lucide="file-text"></i> Demande de devis</h2>
      <form method="POST" action="#" onsubmit="return false;" class="space-y-4">
        <input required type="text" name="nom" placeholder="Nom et pr√©nom" class="w-full px-4 py-2 rounded border border-gray-300 dark:border-gray-600 dark:bg-gray-700">
        <input required type="email" name="email" placeholder="Adresse e-mail" class="w-full px-4 py-2 rounded border border-gray-300 dark:border-gray-600 dark:bg-gray-700">
        <textarea required name="message" placeholder="Votre demande (pi√®ce recherch√©e, v√©hicule, etc.)" rows="4" class="w-full px-4 py-2 rounded border border-gray-300 dark:border-gray-600 dark:bg-gray-700"></textarea>
        <button type="submit" class="bg-primary text-white px-4 py-2 rounded hover:bg-red-700 transition">Envoyer ma demande</button>
      </form>
      <p id="confirmation" class="mt-4 text-green-600 dark:text-green-400 hidden">‚úÖ Votre demande a √©t√© envoy√©e. Nous vous contacterons rapidement.</p>
    </section>
    
    <!-- Indicateurs Confiance -->
    <div class="trust-badges py-8 bg-gray-50 dark:bg-gray-700 p-6 rounded shadow mb-6">
      <h2 class="text-xl font-semibold mb-4 flex items-center gap-2"><i data-lucide="shield"></i> Nos certifications</h2>
      <div class="flex flex-wrap justify-center gap-8">
        <img src="trust/iso-certified.svg" alt="Certifi√© ISO" class="h-16 w-auto">
        <img src="trust/secure-payments.svg" alt="Paiements s√©curis√©s" class="h-16 w-auto">
        <img src="trust/warranty.svg" alt="Garantie Fabricant" class="h-16 w-auto">
        <img src="trust/fast-delivery.svg" alt="Livraison Rapide" class="h-16 w-auto">
      </div>
    </div>
  </main>

  <!-- CTA Final -->
  <section class="py-16 bg-dark text-white text-center">
    <div class="max-w-4xl mx-auto px-4">
      <h2 class="text-3xl font-bold mb-4">Pr√™t √† r√©parer votre v√©hicule ?</h2>
      <p class="mb-8 text-xl">Nos experts vous accompagnent √† chaque √©tape</p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a href="tel:+33123456789" class="bg-secondary text-gray-900 px-8 py-4 rounded-full font-bold hover:bg-yellow-300 transition flex items-center gap-2 justify-center">
          <i data-lucide="phone"></i> Appeler maintenant
        </a>
        <a href="#devis" class="border-2 border-white px-8 py-4 rounded-full hover:bg-white/10 transition">
          ‚úâÔ∏è Nous √©crire
        </a>
      </div>
    </div>
  </section>

  <!-- Navigation am√©lior√©e mobile -->
  <nav class="md:hidden fixed bottom-0 w-full bg-white dark:bg-gray-800 shadow-lg z-50">
    <div class="flex justify-around p-4">
      <a href="#services" class="text-primary" aria-label="Services">
        <i data-lucide="settings"></i>
      </a>
      <a href="#meilleures-pieces" class="text-primary" aria-label="Produits">
        <i data-lucide="shopping-cart"></i>
      </a>
      <a href="#devis" class="text-primary" aria-label="Contact">
        <i data-lucide="phone"></i>
      </a>
    </div>
  </nav>

  <!-- Chatbot IA -->
  <div id="chatbot" class="fixed bottom-20 right-6 w-80 bg-white dark:bg-gray-800 shadow-xl rounded-lg hidden z-50">
    <div class="chat-header bg-primary text-white p-4 rounded-t-lg flex justify-between items-center">
      <h3 class="font-bold">Assistant Virtuel</h3>
      <button id="close-chat" class="text-white"><i data-lucide="x"></i></button>
    </div>
    <div class="chat-messages h-64 overflow-y-auto p-4">
      <div class="message bot">Bonjour ! Comment puis-je vous aider √† trouver la pi√®ce parfaite pour votre v√©hicule ?</div>
    </div>
    <div class="p-4 border-t border-gray-200 dark:border-gray-700">
      <input type="text" id="chat-input" class="chat-input w-full p-2 rounded border dark:bg-gray-700 dark:border-gray-600" 
             placeholder="Tapez votre message...">
    </div>
  </div>

  <!-- Chat WhatsApp -->
  <div class="fixed bottom-6 right-6 flex flex-col gap-3 z-50">
    <button id="chat-toggle" class="bg-primary text-white p-4 rounded-full shadow-xl hover:bg-red-700 transition">
      <i data-lucide="message-circle"></i>
    </button>
    
    <a href="https://wa.me/33123456789" target="_blank" 
       class="bg-green-600 text-white p-4 rounded-full shadow-xl hover:bg-green-700 transition"
       aria-label="Contact WhatsApp">
      <i data-lucide="phone"></i>
    </a>
  </div>

  <!-- Scripts optimis√©s -->
  <script defer src="https://unpkg.com/lucide@latest"></script>
  <script defer src="https://unpkg.com/swiper@8/swiper-bundle.min.js"></script>
  <script defer src="https://unpkg.com/animejs@3.2.1/lib/anime.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script defer src="scripts/advanced-services.js"></script>
  <script defer src="scripts/google-reviews.js"></script>
  <script defer src="scripts/performance-optimizations.js" type="module"></script>
  <script defer>
    // Gestionnaire de formulaire am√©lior√©
    const formHandler = {
      init() {
        this.form = document.querySelector('form');
        this.submitBtn = this.form.querySelector('button[type="submit"]');
        this.form.addEventListener('submit', this.handleSubmit.bind(this));
      },

      async handleSubmit(e) {
        e.preventDefault();
        
        this.submitBtn.disabled = true;
        this.submitBtn.innerHTML = `<i data-lucide="loader" class="loading-spinner"></i> Envoi en cours...`;
        lucide.createIcons();

        try {
          const response = await fetch(this.form.action, {
            method: 'POST',
            body: new FormData(this.form),
          });

          if (!response.ok) throw new Error('Erreur r√©seau');
          this.showSuccess();
        } catch (error) {
          this.showError();
        } finally {
          this.resetButton();
        }
      },

      showSuccess() {
        const confirmation = document.getElementById('confirmation');
        confirmation.classList.remove('hidden');
        setTimeout(() => confirmation.classList.add('hidden'), 5000);
      },

      showError() {
        // Afficher un message d'erreur
      },

      resetButton() {
        this.submitBtn.disabled = false;
        this.submitBtn.innerHTML = 'Envoyer ma demande';
      }
    };

    document.addEventListener('DOMContentLoaded', () => {
      lucide.createIcons();
      
      // Initialisation du slider Swiper
      new Swiper('.swiper-container', {
        loop: true,
        pagination: { 
          el: '.swiper-pagination',
          clickable: true
        },
        autoplay: { 
          delay: 5000 
        },
        slidesPerView: 1,
        spaceBetween: 20,
        breakpoints: {
          640: {
            slidesPerView: 1
          },
          768: {
            slidesPerView: 2,
            spaceBetween: 30
          }
        }
      });
      
      // Animation d'entr√©e
      if (window.anime) {
        anime({
          targets: '.staggered-animation > *',
          opacity: [0, 1],
          translateY: [30, 0],
          delay: anime.stagger(100),
          easing: 'easeOutExpo'
        });
      }
      
      // Chatbot IA
      const chatToggle = document.getElementById('chat-toggle');
      const chatbox = document.getElementById('chatbot');
      const closeChat = document.getElementById('close-chat');
      const chatInput = document.getElementById('chat-input');
      const chatMessages = document.querySelector('.chat-messages');
      
      if (chatToggle && chatbox) {
        chatToggle.addEventListener('click', () => {
          chatbox.classList.toggle('hidden');
        });
      }
      
      if (closeChat) {
        closeChat.addEventListener('click', () => {
          chatbox.classList.add('hidden');
        });
      }
      
      if (chatInput) {
        chatInput.addEventListener('keypress', (e) => {
          if (e.key === 'Enter') {
            const userMessage = chatInput.value.trim();
            if (userMessage) {
              // Ajouter le message utilisateur
              const userDiv = document.createElement('div');
              userDiv.classList.add('message', 'user');
              userDiv.textContent = userMessage;
              chatMessages.appendChild(userDiv);
              
              // R√©initialiser l'input
              chatInput.value = '';
              
              // Scroll to bottom
              chatMessages.scrollTop = chatMessages.scrollHeight;
              
              // Simuler une r√©ponse (√† remplacer par une API r√©elle)
              setTimeout(() => {
                const botDiv = document.createElement('div');
                botDiv.classList.add('message', 'bot');
                botDiv.textContent = `Merci pour votre message. Un conseiller vous r√©pondra dans les plus brefs d√©lais.`;
                chatMessages.appendChild(botDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
              }, 1000);
            }
          }
        });
      }
      
      // A/B Testing CTAs
      const ctaVariants = [
        { text: 'üìû Demandez un devis gratuit', color: 'bg-secondary' },
        { text: 'üí∏ √âconomisez sur vos pi√®ces auto', color: 'bg-green-500' }
      ];

      const mainCta = document.querySelector('a[href="#devis"]');
      if (mainCta) {
        const randomCta = ctaVariants[Math.floor(Math.random() * ctaVariants.length)];
        mainCta.textContent = randomCta.text;
        mainCta.className = `${randomCta.color} text-gray-900 px-8 py-4 rounded-full font-bold hover:opacity-90 transition`;
      }
      
      // Animations au scroll
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('animate-fade-in-up');
          }
        });
      }, { threshold: 0.1 });

      document.querySelectorAll('section').forEach(el => {
        el.classList.add('animate-on-scroll');
        observer.observe(el);
      });
      
      formHandler.init();
    });
  </script>

  <!-- Web Vitals Tracking -->
  <script defer src="https://unpkg.com/web-vitals"></script>
  <script defer>
    if (window.webVitals) {
      webVitals.getCLS(console.log);
      webVitals.getFID(console.log);
      webVitals.getLCP(console.log);
    }
  </script>
</body>
</html>
