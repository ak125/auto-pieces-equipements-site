<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auto Pièces Équipements - Spécialiste pièces auto aux Pavillons-sous-Bois</title>
    
    <!-- Préchargement des ressources critiques -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style">
    
    <!-- TailwindCSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#0070f3',
                        'primary-hover': '#005bb5',
                        secondary: '#ff6b00',
                        tertiary: '#00c896',
                        dark: '#111827',
                        darker: '#0a101f',
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'bounce-slow': 'bounce 2s infinite',
                    }
                }
            }
        }
    </script>
    
    <!-- Polices Google optimisées pour le thème technique -->
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Font Awesome pour les icônes techniques -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Modules CSS personnalisés -->
    <link rel="stylesheet" href="styles/enhanced-badges.css">
    <link rel="stylesheet" href="styles/scan-animations.css">
    
    <style>
        .font-tech {
            font-family: 'Space Grotesk', sans-serif;
        }
        
        .font-mono {
            font-family: 'JetBrains Mono', monospace;
        }
        
        .hero {
            background: linear-gradient(rgba(10, 16, 31, 0.85), rgba(17, 24, 39, 0.9)), url('https://images.unsplash.com/photo-1494972308805-463bc619d34e?auto=format&fit=crop&w=1473&q=80');
            background-size: cover;
            background-position: center;
        }
        
        .part-card {
            transition: all 0.3s ease;
        }
        
        .part-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .rating-stars {
            color: #f59e0b;
        }
        
        /* Ajout d'animations fluides au défilement */
        .fade-in-up {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        
        .fade-in-up.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Animation pour les carte produits */
        .product-card-hover {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .product-card-hover:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }
        
        /* Styles pour le chatbot */
        .chatbot-widget {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            transition: all 0.3s ease;
        }
        
        .chatbot-window {
            height: 0;
            width: 0;
            opacity: 0;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .chatbot-window.open {
            height: 400px;
            width: 320px;
            opacity: 1;
        }
        
        /* Styles pour le sélecteur de véhicules */
        .vehicle-selector {
            background: linear-gradient(to right, rgba(10, 25, 41, 0.9), rgba(17, 24, 39, 0.95));
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            border: 1px solid rgba(76, 201, 240, 0.2);
        }
    </style>
    
    <!-- Données structurées pour SEO -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "AutoPartsStore",
      "name": "Auto Pièces Équipements",
      "image": "https://autopieces-equipements.fr/logo.svg",
      "url": "https://autopieces-equipements.fr",
      "telephone": "+33148479627",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "184 Av. Aristide Briand",
        "addressLocality": "Les Pavillons-sous-Bois",
        "postalCode": "93320",
        "addressCountry": "FR"
      },
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": 48.9069,
        "longitude": 2.5059
      },
      "openingHoursSpecification": {
        "@type": "OpeningHoursSpecification",
        "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
        "opens": "09:00",
        "closes": "18:30"
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.9",
        "ratingCount": "4924"
      }
    }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
</head>
<body class="font-tech bg-gray-100 dark:bg-darker dark:text-gray-100 transition-colors duration-300">
    <!-- Nouveau - Bouton de mode sombre -->
    <button id="theme-toggle" class="fixed right-4 top-4 z-50 bg-gray-800 dark:bg-white text-white dark:text-gray-800 p-2 rounded-full shadow-lg">
        <i class="fas fa-moon dark:hidden"></i>
        <i class="fas fa-sun hidden dark:inline"></i>
        <span class="sr-only">Changer de thème</span>
    </button>

    <!-- Header -->
    <header class="bg-darker dark:bg-black text-white sticky top-0 z-40 shadow-lg">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center">
                <!-- Logo SVG -->
                <a href="/" class="flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 200 200" fill="none" class="mr-3">
                        <!-- Fond circulaire -->
                        <circle cx="100" cy="100" r="90" fill="#001B4D" />
                        <circle cx="100" cy="100" r="85" fill="#0A1929" />
                        
                        <!-- Élément d'engrenage -->
                        <path d="M100 50C97.2 50 94.5 50.2 91.8 50.7L88.9 38.2C85.1 39 81.4 40.2 77.9 41.7L82.4 53.6C77.5 56 73.1 59.2 69.3 63L59.3 55.1C56.6 57.7 54.2 60.6 52.1 63.7L63.9 70.1C61.5 74.4 59.7 79.1 58.8 84.1L46.3 82.3C45.5 85.4 45 88.6 45 91.9L57.7 92.5C57.9 97.8 59 102.9 60.9 107.7L49.3 112.5C50.6 115.4 52.2 118.2 54 120.8L64.8 114.9C68.2 119.1 72.3 122.7 77 125.5L72.1 137.2C75.3 138.9 78.7 140.2 82.2 141.2L85.8 128.9C90.4 130.3 95.2 131 100.2 131L101.7 143.7C105 143.5 108.2 142.9 111.2 142L108.5 129.6C113.2 127.8 117.5 125.3 121.2 122.1L131.5 129.7C134.1 127 136.5 124.1 138.5 120.9L127.3 114.7C129.5 110.3 131 105.5 131.7 100.5L144.2 102C144.9 98.9 145.3 95.7 145.3 92.4L132.6 92C132.2 86.8 130.9 81.9 128.9 77.3L140.4 72.3C139 69.5 137.3 66.7 135.4 64.2L124.7 70.2C121.2 66.1 117 62.7 112.2 60L116.9 48.3C113.6 46.7 110.1 45.5 106.6 44.6L103.2 56.9C102.1 56.7 101.1 56.6 100 56.6V50Z" fill="#B87333"/>

                        <!-- Contour des éléments intérieurs -->
                        <circle cx="100" cy="100" r="35" fill="#001B4D" stroke="#4CC9F0" stroke-width="2"/>
                        <circle cx="100" cy="100" r="28" fill="#0A1929" stroke="#4CC9F0" stroke-width="1"/>
                        
                        <!-- Lettres stylisées APE -->
                        <path d="M92 90L85 110M85 110H95M92 90H102M102 90L109 110" stroke="#F59E0B" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        
                        <!-- Élément graphique automobile -->
                        <circle cx="100" cy="100" r="12" fill="#00CC66" fill-opacity="0.2" stroke="#00CC66" stroke-width="1.5"/>
                        <circle cx="100" cy="100" r="6" fill="#00CC66" fill-opacity="0.6"/>
                        <circle cx="100" cy="100" r="2" fill="#FFFFFF"/>
                        
                        <!-- Rayons lumineux -->
                        <path d="M100 70V80" stroke="#4CC9F0" stroke-width="1.5" stroke-linecap="round"/>
                        <path d="M100 120V130" stroke="#4CC9F0" stroke-width="1.5" stroke-linecap="round"/>
                        <path d="M70 100H80" stroke="#4CC9F0" stroke-width="1.5" stroke-linecap="round"/>
                        <path d="M120 100H130" stroke="#4CC9F0" stroke-width="1.5" stroke-linecap="round"/>
                        <path d="M82 82L89 89" stroke="#4CC9F0" stroke-width="1.5" stroke-linecap="round"/>
                        <path d="M111 111L118 118" stroke="#4CC9F0" stroke-width="1.5" stroke-linecap="round"/>
                        <path d="M82 118L89 111" stroke="#4CC9F0" stroke-width="1.5" stroke-linecap="round"/>
                        <path d="M111 89L118 82" stroke="#4CC9F0" stroke-width="1.5" stroke-linecap="round"/>
                    </svg>
                    <span class="text-xl font-bold">Auto Pièces <span class="text-blue-500">Équipements</span></span>
                </a>
            </div>
            
            <nav class="hidden md:flex space-x-8">
                <a href="#accueil" class="hover:text-blue-400 transition">Accueil</a>
                <a href="#produits" class="hover:text-blue-400 transition">Produits</a>
                <a href="#services" class="hover:text-blue-400 transition">Services</a>
                <a href="#avis" class="hover:text-blue-400 transition">Avis</a>
                <a href="#contact" class="hover:text-blue-400 transition">Contact</a>
            </nav>
            
            <div class="flex items-center space-x-4">
                <button class="hover:text-blue-400 transition">
                    <i class="fas fa-search text-lg"></i>
                </button>
                <button class="hover:text-blue-400 transition">
                    <i class="fas fa-user text-lg"></i>
                </button>
                <button class="hover:text-blue-400 transition relative">
                    <i class="fas fa-shopping-cart text-lg"></i>
                    <span class="absolute -top-2 -right-2 bg-blue-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">0</span>
                </button>
                <button class="md:hidden" id="menu-toggle">
                    <i class="fas fa-bars text-xl"></i>
                </button>
            </div>
        </div>
        
        <!-- Mobile menu -->
        <div class="md:hidden bg-gray-800 hidden" id="mobile-menu">
            <div class="container mx-auto px-4 py-3 flex flex-col space-y-3">
                <a href="#accueil" class="hover:text-blue-400 transition py-2">Accueil</a>
                <a href="#produits" class="hover:text-blue-400 transition py-2">Produits</a>
                <a href="#services" class="hover:text-blue-400 transition py-2">Services</a>
                <a href="#avis" class="hover:text-blue-400 transition py-2">Avis</a>
                <a href="#contact" class="hover:text-blue-400 transition py-2">Contact</a>
            </div>
        </div>
    </header>

    <!-- NOUVEAU: Sélecteur de véhicule -->
    <div class="vehicle-selector py-3 sticky top-16 z-30">
        <div class="container mx-auto px-4">
            <form class="flex flex-col md:flex-row gap-3 items-center">
                <div class="text-white font-medium">
                    <i class="fas fa-car-side text-blue-400 mr-2"></i> Trouvez les pièces pour votre véhicule:
                </div>
                <div class="flex-grow grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3">
                    <select class="bg-gray-800 text-white px-3 py-2 rounded border border-gray-700 focus:border-blue-400 focus:ring-1 focus:ring-blue-400 focus:outline-none">
                        <option value="">Marque</option>
                        <option>Renault</option>
                        <option>Peugeot</option>
                        <option>Citroën</option>
                        <option>Volkswagen</option>
                    </select>
                    <select class="bg-gray-800 text-white px-3 py-2 rounded border border-gray-700 focus:border-blue-400 focus:ring-1 focus:ring-blue-400 focus:outline-none">
                        <option value="">Modèle</option>
                        <option>Clio</option>
                        <option>Mégane</option>
                        <option>Captur</option>
                    </select>
                    <select class="bg-gray-800 text-white px-3 py-2 rounded border border-gray-700 focus:border-blue-400 focus:ring-1 focus:ring-blue-400 focus:outline-none">
                        <option value="">Année</option>
                        <option>2023</option>
                        <option>2022</option>
                        <option>2021</option>
                    </select>
                    <select class="bg-gray-800 text-white px-3 py-2 rounded border border-gray-700 focus:border-blue-400 focus:ring-1 focus:ring-blue-400 focus:outline-none">
                        <option value="">Motorisation</option>
                        <option>1.5 dCi 85ch</option>
                        <option>1.0 TCe 90ch</option>
                        <option>1.3 TCe 130ch</option>
                    </select>
                </div>
                <button type="submit" class="bg-blue-600 hover:bg-blue-700 px-5 py-2 rounded text-white font-medium flex items-center whitespace-nowrap">
                    <i class="fas fa-search mr-2"></i> Rechercher
                </button>
            </form>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="hero text-white py-20 md:py-32 flex items-center" id="accueil">
        <div class="container mx-auto px-4">
            <div class="max-w-2xl">
                <div class="flex items-center mb-4">
                    <div class="rating-stars text-xl mr-2">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <span class="text-sm bg-white text-gray-800 px-2 py-1 rounded font-mono">4.9/5 (4924 avis)</span>
                </div>
                <h1 class="text-4xl md:text-5xl font-bold mb-4">Votre spécialiste en pièces auto aux Pavillons-sous-Bois</h1>
                <p class="text-lg mb-8 opacity-90">Technologie de pointe et expertise pour tous vos besoins en pièces automobiles.</p>
                
                <!-- Animation de scan technique -->
                <div id="tech-scan-hero" class="mb-8 h-24"></div>
                
                <div class="flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4">
                    <a href="#produits" class="bg-primary hover:bg-primary-hover px-6 py-3 rounded-lg font-medium transition text-center">
                        Voir les produits
                    </a>
                    <a href="tel:+33148479627" class="bg-dark hover:bg-gray-800 border border-gray-700 text-white px-6 py-3 rounded-lg font-medium transition text-center flex items-center justify-center">
                        <i class="fas fa-phone mr-2"></i> 01 48 47 96 27
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- About -->
    <section class="py-16 bg-white dark:bg-gray-900 transition-colors duration-300">
        <div class="container mx-auto px-4">
            <div class="flex flex-col lg:flex-row items-center">
                <div class="lg:w-1/2 mb-8 lg:mb-0 lg:pr-12">
                    <h2 class="text-3xl font-bold mb-6 text-darker dark:text-white fade-in-up">Votre spécialiste en Seine-Saint-Denis</h2>
                    <p class="text-gray-600 dark:text-gray-300 mb-6 fade-in-up">Auto Pièces Équipements est votre partenaire technologique pour les pièces automobiles aux Pavillons-sous-Bois, au service des particuliers comme des professionnels depuis 2016.</p>
                    <p class="text-gray-600 dark:text-gray-300 mb-6 fade-in-up">Notre interface digitale connectée vous permet de trouver facilement les pièces compatibles avec votre véhicule grâce à un système de reconnaissance automatique.</p>
                    
                    <!-- Badges améliorés -->
                    <div class="flex flex-wrap gap-4 mt-8 mb-8">
                        <span data-badge data-badge-color="blue" data-badge-icon="🔍" data-badge-text="Diagnostic précis"></span>
                        <span data-badge data-badge-color="amber" data-badge-icon="⚡" data-badge-text="Livraison Express" data-badge-pulse="true"></span>
                        <span data-badge data-badge-color="green" data-badge-icon="✓" data-badge-text="Compatible multi-marques"></span>
                    </div>
                    
                    <div class="flex space-x-4">
                        <a href="#services" class="bg-primary hover:bg-primary-hover text-white px-6 py-2 rounded-lg font-medium transition">Nos services</a>
                        <a href="#contact" class="border-2 border-darker hover:bg-darker hover:text-white px-6 py-2 rounded-lg font-medium transition">Nous trouver</a>
                    </div>
                </div>
                <div class="lg:w-1/2">
                    <div class="bg-gray-100 p-4 rounded-lg shadow-lg">
                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2621.234456789012!2d2.505876315676127!3d48.90691117929388!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47e6125a4d2a8a3f%3A0x1a5d5c2e2a2b2c3d!2s184%20Av.%20Aristide%20Briand%2C%2093320%20Les%20Pavillons-sous-Bois%2C%20France!5e0!3m2!1sfr!2sus!4v1620000000000!5m2!1sfr!2sus" width="100%" height="400" style="border:0;" allowfullscreen="" loading="lazy" class="rounded-lg"></iframe>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features -->
    <section class="bg-gray-100 dark:bg-gray-800 py-12 transition-colors duration-300">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="bg-white dark:bg-gray-900 p-6 rounded-lg shadow-sm flex items-start space-x-4">
                    <div class="bg-blue-100 text-blue-600 p-3 rounded-full">
                        <i class="fas fa-truck text-xl"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-lg mb-2">Livraison express</h3>
                        <p class="text-gray-600 dark:text-gray-300">Retrait en magasin ou livraison 24h dans toute la Seine-Saint-Denis.</p>
                    </div>
                </div>
                
                <div class="bg-white dark:bg-gray-900 p-6 rounded-lg shadow-sm flex items-start space-x-4">
                    <div class="bg-green-100 text-green-600 p-3 rounded-full">
                        <i class="fas fa-shield-alt text-xl"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-lg mb-2">Garantie numérique</h3>
                        <p class="text-gray-600 dark:text-gray-300">Suivi en ligne de vos garanties et notifications de rappel automatiques.</p>
                    </div>
                </div>
                
                <div class="bg-white dark:bg-gray-900 p-6 rounded-lg shadow-sm flex items-start space-x-4">
                    <div class="bg-orange-100 text-orange-600 p-3 rounded-full">
                        <i class="fas fa-headset text-xl"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-lg mb-2">Diagnostic technique</h3>
                        <p class="text-gray-600 dark:text-gray-300">Notre interface intelligente identifie les pièces compatibles avec votre véhicule.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- AMÉLIORATION: Section produits avec plus d'interactivité -->
    <section class="py-16 bg-darker text-white" id="produits">
        <div class="container mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold mb-4 fade-in-up">Nos produits phares</h2>
                <p class="text-gray-400 max-w-2xl mx-auto fade-in-up">Découvrez notre catalogue connecté de pièces automobiles haute performance.</p>
                
                <!-- Filtres de produits -->
                <div class="flex flex-wrap justify-center gap-3 mt-8 mb-10">
                    <button class="product-filter bg-dark border-2 border-blue-500 text-white px-4 py-1.5 rounded-full text-sm font-medium hover:bg-blue-500 transition active">Tous</button>
                    <button class="product-filter bg-dark border-2 border-gray-600 text-white px-4 py-1.5 rounded-full text-sm font-medium hover:bg-blue-500 hover:border-blue-500 transition">Freinage</button>
                    <button class="product-filter bg-dark border-2 border-gray-600 text-white px-4 py-1.5 rounded-full text-sm font-medium hover:bg-blue-500 hover:border-blue-500 transition">Moteur</button>
                    <button class="product-filter bg-dark border-2 border-gray-600 text-white px-4 py-1.5 rounded-full text-sm font-medium hover:bg-blue-500 hover:border-blue-500 transition">Électricité</button>
                    <button class="product-filter bg-dark border-2 border-gray-600 text-white px-4 py-1.5 rounded-full text-sm font-medium hover:bg-blue-500 hover:border-blue-500 transition">Suspension</button>
                </div>
            </div>
            
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- Product 1 -->
                <div class="bg-dark rounded-lg overflow-hidden shadow-md part-card product-card-hover transition duration-300 border border-gray-800 group">
                    <div class="relative">
                        <img src="https://images.unsplash.com/photo-1568605117036-5fe5e7bab0b7?auto=format&fit=crop&w=1470&q=80" alt="Plaquettes de frein" class="w-full h-48 object-cover transition duration-300 group-hover:brightness-110" loading="lazy">
                        <span class="absolute top-2 right-2 bg-blue-500 text-white text-xs px-2 py-1 rounded font-mono">NOUVEAU</span>
                        
                        <!-- Actions rapides superposées (nouveau) -->
                        <div class="absolute inset-0 bg-black/60 flex items-center justify-center gap-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                            <button class="bg-white text-gray-900 p-2 rounded-full hover:bg-blue-500 hover:text-white transition" title="Voir en 3D">
                                <i class="fas fa-cube"></i>
                            </button>
                            <button class="bg-white text-gray-900 p-2 rounded-full hover:bg-blue-500 hover:text-white transition" title="Voir compatibilité">
                                <i class="fas fa-car"></i>
                            </button>
                            <button class="bg-white text-gray-900 p-2 rounded-full hover:bg-blue-500 hover:text-white transition" title="Ajouter au panier">
                                <i class="fas fa-cart-plus"></i>
                            </button>
                        </div>
                    </div>
                    <div class="p-4">
                        <h3 class="font-bold text-lg mb-1">Plaquettes de frein carbone</h3>
                        <p class="text-gray-400 text-sm mb-3 font-mono">Réf: BRK-2023-C</p>
                        
                        <!-- Indicateur de compatibilité (nouveau) -->
                        <div class="bg-green-900/30 text-green-400 text-xs px-2 py-1 rounded-full inline-flex items-center mb-3">
                            <i class="fas fa-check mr-1"></i> Compatible avec votre véhicule
                        </div>
                        
                        <div class="flex justify-between items-center">
                            <div>
                                <span class="font-bold text-lg">49,99 €</span>
                                <span class="text-gray-400 text-xs ml-1">TTC</span>
                            </div>
                            <button class="bg-primary hover:bg-primary-hover text-white px-3 py-1 rounded font-medium transition flex items-center">
                                <i class="fas fa-shopping-cart mr-2"></i> Ajouter
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Product 2, 3, 4 similaires avec variations... -->
                <div class="bg-dark rounded-lg overflow-hidden shadow-md part-card product-card-hover transition duration-300 border border-gray-800 group">
                    <div class="relative">
                        <img src="https://images.unsplash.com/photo-1592078615290-033ee584e267?auto=format&fit=crop&w=1528&q=80" alt="Batterie" class="w-full h-48 object-cover transition duration-300 group-hover:brightness-110" loading="lazy">
                    </div>
                    <div class="p-4">
                        <h3 class="font-bold text-lg mb-1">Batterie connectée 12V</h3>
                        <p class="text-gray-400 text-sm mb-3 font-mono">Réf: BAT-IOT-70</p>
                        <div class="flex justify-between items-center">
                            <span class="font-bold text-lg">89,99 €</span>
                            <button class="bg-primary hover:bg-primary-hover text-white px-3 py-1 rounded text-sm transition">Visualiser en 3D</button>
                        </div>
                    </div>
                </div>
                
                <div class="bg-dark rounded-lg overflow-hidden shadow-md part-card product-card-hover transition duration-300 border border-gray-800 group">
                    <div class="relative">
                        <img src="https://images.unsplash.com/photo-1607962837359-5e7e89f86776?auto=format&fit=crop&w=1470&q=80" alt="Filtre à air" class="w-full h-48 object-cover transition duration-300 group-hover:brightness-110" loading="lazy">
                        <span class="absolute top-2 right-2 bg-yellow-500 text-white text-xs px-2 py-1 rounded font-mono">PROMO</span>
                    </div>
                    <div class="p-4">
                        <h3 class="font-bold text-lg mb-1">Filtre à air haute perf</h3>
                        <p class="text-gray-400 text-sm mb-3 font-mono">Réf: AIR-COMP-X3</p>
                        <div class="flex justify-between items-center">
                            <div>
                                <span class="text-gray-400 line-through mr-2">24,99 €</span>
                                <span class="font-bold text-lg text-blue-500">19,99 €</span>
                            </div>
                            <button class="bg-primary hover:bg-primary-hover text-white px-3 py-1 rounded text-sm transition">Visualiser en 3D</button>
                        </div>
                    </div>
                </div>
                
                <div class="bg-dark rounded-lg overflow-hidden shadow-md part-card product-card-hover transition duration-300 border border-gray-800 group">
                    <div class="relative">
                        <img src="https://images.unsplash.com/photo-1554744512-d6c603f27c54?auto=format&fit=crop&w=1470&q=80" alt="Ampoules" class="w-full h-48 object-cover transition duration-300 group-hover:brightness-110" loading="lazy">
                    </div>
                    <div class="p-4">
                        <h3 class="font-bold text-lg mb-1">Kit LED Ultra H7</h3>
                        <p class="text-gray-400 text-sm mb-3 font-mono">Réf: LED-9000K-H7</p>
                        <div class="flex justify-between items-center">
                            <span class="font-bold text-lg">34,99 €</span>
                            <button class="bg-primary hover:bg-primary-hover text-white px-3 py-1 rounded text-sm transition">Visualiser en 3D</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="text-center mt-10">
                <button class="border-2 border-blue-500 hover:bg-blue-500 text-white px-6 py-2 rounded-lg font-medium transition">
                    Explorer le catalogue digital
                </button>
            </div>
        </div>
    </section>

    <!-- Services -->
    <section class="py-16 bg-white dark:bg-gray-900 transition-colors duration-300" id="services">
        <div class="container mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold mb-4 text-darker dark:text-white">Nos services connectés</h2>
                <p class="text-gray-600 dark:text-gray-300 max-w-2xl mx-auto">Une expérience entièrement digitalisée pour l'entretien de votre véhicule.</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="bg-gray-50 dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700">
                    <div class="bg-blue-100 text-blue-600 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4">
                        <i class="fas fa-tools text-xl"></i>
                    </div>
                    <h3 class="font-bold text-xl mb-3">Diagnostic électronique</h3>
                    <p class="text-gray-600 dark:text-gray-300 mb-4">Analyse complète avec rapport numérique détaillé envoyé dans votre espace client.</p>
                    <a href="#" class="text-primary font-medium flex items-center">
                        En savoir plus <i class="fas fa-arrow-right ml-2 text-sm"></i>
                    </a>
                </div>
                
                <div class="bg-gray-50 dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700">
                    <div class="bg-green-100 text-green-600 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4">
                        <i class="fas fa-oil-can text-xl"></i>
                    </div>
                    <h3 class="font-bold text-xl mb-3">Vidange connectée</h3>
                    <p class="text-gray-600 dark:text-gray-300 mb-4">Rappels automatiques et suivi de la qualité d'huile via notre application mobile.</p>
                    <a href="#" class="text-primary font-medium flex items-center">
                        En savoir plus <i class="fas fa-arrow-right ml-2 text-sm"></i>
                    </a>
                </div>
                
                <div class="bg-gray-50 dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700">
                    <div class="bg-orange-100 text-orange-600 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4">
                        <i class="fas fa-car-battery text-xl"></i>
                    </div>
                    <h3 class="font-bold text-xl mb-3">Batterie intelligente</h3>
                    <p class="text-gray-600 dark:text-gray-300 mb-4">Surveillance à distance de l'état de votre batterie avec alertes préventives.</p>
                    <a href="#" class="text-primary font-medium flex items-center">
                        En savoir plus <i class="fas fa-arrow-right ml-2 text-sm"></i>
                    </a>
                </div>
                
                <div class="bg-gray-50 dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700">
                    <div class="bg-yellow-100 text-yellow-600 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4">
                        <i class="fas fa-tachometer-alt text-xl"></i>
                    </div>
                    <h3 class="font-bold text-xl mb-3">Performances numériques</h3>
                    <p class="text-gray-600 dark:text-gray-300 mb-4">Test et optimisation de la puissance et de la consommation avec rapport détaillé.</p>
                    <a href="#" class="text-primary font-medium flex items-center">
                        En savoir plus <i class="fas fa-arrow-right ml-2 text-sm"></i>
                    </a>
                </div>
                
                <div class="bg-gray-50 dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700">
                    <div class="bg-purple-100 text-purple-600 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4">
                        <i class="fas fa-tablet-alt text-xl"></i>
                    </div>
                    <h3 class="font-bold text-xl mb-3">Visualisation 3D</h3>
                    <p class="text-gray-600 dark:text-gray-300 mb-4">Explorez chaque pièce en 3D avant achat pour garantir la compatibilité parfaite.</p>
                    <a href="#" class="text-primary font-medium flex items-center">
                        En savoir plus <i class="fas fa-arrow-right ml-2 text-sm"></i>
                    </a>
                </div>
                
                <div class="bg-gray-50 dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700">
                    <div class="bg-red-100 text-red-600 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4">
                        <i class="fas fa-key text-xl"></i>
                    </div>
                    <h3 class="font-bold text-xl mb-3">Assistance digitale</h3>
                    <p class="text-gray-600 dark:text-gray-300 mb-4">Support technique par vidéo et chat 24/7 directement dans notre application.</p>
                    <a href="#" class="text-primary font-medium flex items-center">
                        En savoir plus <i class="fas fa-arrow-right ml-2 text-sm"></i>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials -->
    <section class="py-16 bg-gray-100 dark:bg-gray-800 transition-colors duration-300" id="avis">
        <div class="container mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold mb-4 text-darker dark:text-white">Nos clients témoignent</h2>
                <p class="text-gray-600 dark:text-gray-300 max-w-2xl mx-auto">Découvrez l'expérience réelle de nos clients sur Google.</p>
            </div>
            
            <!-- Indicateur de chargement -->
            <div id="reviews-loading" class="flex justify-center mb-8">
                <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"></div>
            </div>
            
            <!-- Nouvelle section MCP Diagnostic -->
            <div id="mcp-diagnostic" class="bg-darker text-white p-6 rounded-lg shadow-lg mb-10">
                <div class="flex items-center mb-4">
                    <div class="bg-blue-900 p-3 rounded-full mr-4">
                        <i class="fas fa-microchip text-blue-400 text-xl"></i>
                    </div>
                    <h3 class="text-xl font-bold">Diagnostic via protocole MCP</h3>
                </div>
                
                <p class="text-gray-300 mb-4">Utilisez notre système de diagnostic avancé compatible avec le protocole MCP (Motor Control Protocol) pour analyser votre véhicule avec précision.</p>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                    <div class="bg-gray-800 p-4 rounded-lg border border-gray-700">
                        <div class="flex items-center mb-2">
                            <i class="fas fa-plug text-green-400 mr-2"></i>
                            <span class="font-medium">Connectivité OBD-II MCP</span>
                        </div>
                        <p class="text-gray-400 text-sm">Connectez notre appareil à votre port OBD-II pour un diagnostic MCP complet des systèmes moteur</p>
                    </div>
                    
                    <div class="bg-gray-800 p-4 rounded-lg border border-gray-700">
                        <div class="flex items-center mb-2">
                            <i class="fas fa-chart-line text-blue-400 mr-2"></i>
                            <span class="font-medium">Analyse des performances</span>
                        </div>
                        <p class="text-gray-400 text-sm">Mesurez les performances réelles de votre moteur avec précision grâce au protocole MCP</p>
                    </div>
                    
                    <div class="bg-gray-800 p-4 rounded-lg border border-gray-700">
                        <div class="flex items-center mb-2">
                            <i class="fas fa-tools text-orange-400 mr-2"></i>
                            <span class="font-medium">Recommandations précises</span>
                        </div>
                        <p class="text-gray-400 text-sm">Obtenez des recommandations de pièces basées sur les données MCP de votre véhicule</p>
                    </div>
                </div>
                
                <!-- Remplacement du bouton MCP actuel -->
                <div class="flex justify-center">
                    <button id="test-mcp-connection" class="group bg-blue-900 hover:bg-blue-800 text-white px-6 py-3 rounded-lg font-medium transition flex items-center relative overflow-hidden">
                        <span class="absolute inset-0 w-full h-full transition-all duration-300 ease-out opacity-0 group-hover:opacity-100 bg-gradient-to-r from-blue-600 via-blue-500 to-blue-600 bg-size-200 bg-pos-0 group-hover:bg-pos-100"></span>
                        <span class="absolute top-0 left-0 w-full h-full bg-gradient-to-r from-blue-800 to-blue-600 opacity-0 group-hover:opacity-100 transition-opacity"></span>
                        <span class="relative flex items-center">
                            <i class="fas fa-bolt mr-3 text-yellow-300 animate-pulse"></i>
                            <span>
                                <span class="block font-bold">Tester la connexion MCP</span>
                                <span class="text-xs text-blue-200">Diagnostic complet moteur et électronique</span>
                            </span>
                        </span>
                    </button>
                </div>
            </div>

            <!-- Ajouter après la section MCP actuelle -->
            <div class="mt-8 bg-gray-800 p-4 rounded-lg border border-gray-700">
                <h4 class="text-lg font-bold text-white mb-3">À propos du protocole MCP</h4>
                <p class="text-gray-300 text-sm mb-3">Le MCP (Motor Control Protocol) est une technologie avancée qui permet d'analyser en profondeur les performances et l'état de votre moteur. Contrairement aux systèmes de diagnostic standard, le MCP offre :</p>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-4">
                    <div class="bg-gray-900 p-3 rounded border border-gray-700">
                        <div class="flex items-center text-blue-400 mb-1">
                            <i class="fas fa-tachometer-alt mr-2"></i>
                            <span class="font-semibold">Analyse dynamique</span>
                        </div>
                        <p class="text-gray-400 text-xs">Mesure des performances en temps réel pendant la conduite pour une détection plus précise des anomalies.</p>
                    </div>
                    
                    <div class="bg-gray-900 p-3 rounded border border-gray-700">
                        <div class="flex items-center text-green-400 mb-1">
                            <i class="fas fa-microchip mr-2"></i>
                            <span class="font-semibold">Compatibilité multimarque</span>
                        </div>
                        <p class="text-gray-400 text-xs">Compatible avec plus de 98% des véhicules fabriqués après 2005, toutes marques confondues.</p>
                    </div>
                    
                    <div class="bg-gray-900 p-3 rounded border border-gray-700">
                        <div class="flex items-center text-yellow-400 mb-1">
                            <i class="fas fa-history mr-2"></i>
                            <span class="font-semibold">Historique avancé</span>
                        </div>
                        <p class="text-gray-400 text-xs">Accès aux données historiques de performance pour identifier les tendances et problèmes récurrents.</p>
                    </div>
                    
                    <div class="bg-gray-900 p-3 rounded border border-gray-700">
                        <div class="flex items-center text-purple-400 mb-1">
                            <i class="fas fa-brain mr-2"></i>
                            <span class="font-semibold">IA prédictive</span>
                        </div>
                        <p class="text-gray-400 text-xs">Prévision des pannes potentielles avant qu'elles ne surviennent grâce à l'analyse par intelligence artificielle.</p>
                    </div>
                </div>
                
                <div class="text-center">
                    <a href="#" class="text-blue-400 text-sm hover:underline inline-flex items-center">
                        En savoir plus sur la technologie MCP
                        <i class="fas fa-arrow-right ml-1"></i>
                    </a>
                </div>
            </div>
            
            <!-- Conteneur pour les avis Google -->
            <div id="google-reviews-container" class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Les avis seront chargés dynamiquement ici -->
            </div>
            
            <div class="text-center mt-10">
                <a href="https://www.google.com/search?q=Auto+Pieces+Equipements+Les+Pavillons-sous-Bois" target="_blank" class="bg-primary hover:bg-primary-hover text-white px-6 py-3 rounded-lg font-medium inline-flex items-center">
                    <i class="fab fa-google mr-2"></i> Voir tous nos avis Google
                </a>
            </div>
        </div>
    </section>

    <!-- AMÉLIORATION: Contact avec vue en 3D du magasin -->
    <section class="py-16 bg-darker text-white" id="contact">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                <div>
                    <h2 class="text-3xl font-bold mb-6 fade-in-up">Contactez-nous</h2>
                    <p class="text-gray-400 mb-8 fade-in-up">Accédez à notre support technique avancé pour toute question sur nos produits ou services.</p>
                    
                    <!-- Nouvelle section horaires -->
                    <div class="mb-8 p-4 bg-gray-800 rounded-lg border border-gray-700">
                        <h3 class="text-xl font-bold mb-4 flex items-center">
                            <i class="fas fa-clock text-blue-400 mr-2"></i> Nos horaires
                        </h3>
                        <div class="grid grid-cols-2 gap-2 text-sm">
                            <div class="flex justify-between">
                                <span>Lundi - Vendredi:</span>
                                <span class="text-blue-300">9h00 - 18h30</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Samedi:</span>
                                <span class="text-blue-300">9h00 - 17h00</span>
                            </div>
                            <div class="flex justify-between col-span-2">
                                <span>Dimanche:</span>
                                <span class="text-gray-400">Fermé</span>
                            </div>
                        </div>
                        <div class="mt-3 flex items-center text-green-400">
                            <div class="w-2 h-2 rounded-full bg-green-400 mr-2 animate-pulse"></div>
                            <span>Actuellement ouvert</span>
                        </div>
                    </div>
                    
                    <div class="space-y-6">
                        <div class="flex items-start space-x-4">
                            <div class="bg-blue-900 text-blue-300 p-3 rounded-full">
                                <i class="fas fa-map-marker-alt"></i>
                            </div>
                            <div>
                                <h4 class="font-bold mb-1">Adresse</h4>
                                <p class="text-gray-400">184 Av. Aristide Briand<br>93320 Les Pavillons-sous-Bois, France</p>
                                <a href="https://goo.gl/maps/xyz" target="_blank" class="text-blue-400 text-sm mt-1 inline-block">Voir sur la carte</a>
                            </div>
                        </div>
                        
                        <div class="flex items-start space-x-4">
                            <div class="bg-green-900 text-green-300 p-3 rounded-full">
                                <i class="fas fa-phone-alt"></i>
                            </div>
                            <div>
                                <h4 class="font-bold mb-1">Téléphone</h4>
                                <p class="text-gray-400">01 48 47 96 27<br>Lun-Sam : 9h-18h30</p>
                                <a href="tel:+33148479627" class="text-blue-400 text-sm mt-1 inline-block">Appeler maintenant</a>
                            </div>
                        </div>
                        
                        <div class="flex items-start space-x-4">
                            <div class="bg-orange-900 text-orange-300 p-3 rounded-full">
                                <i class="fas fa-envelope"></i>
                            </div>
                            <div>
                                <h4 class="font-bold mb-1">Email</h4>
                                <p class="text-gray-400">contact@autopieces-equipements.fr<br>Support technique 24/7</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="bg-dark p-8 rounded-lg shadow-lg border border-gray-800">
                    <h3 class="text-xl font-bold mb-6">Accès à l'assistance technique</h3>
                    <form>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                            <div>
                                <label for="name" class="block text-gray-300 font-medium mb-2">Nom complet</label>
                                <input type="text" id="name" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-white">
                            </div>
                            <div>
                                <label for="email" class="block text-gray-300 font-medium mb-2">Email</label>
                                <input type="email" id="email" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-white">
                            </div>
                        </div>
                        
                        <div class="mb-6">
                            <label for="vehicle" class="block text-gray-300 font-medium mb-2">Modèle du véhicule</label>
                            <input type="text" id="vehicle" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-white">
                        </div>
                        
                        <div class="mb-6">
                            <label for="message" class="block text-gray-300 font-medium mb-2">Description technique</label>
                            <textarea id="message" rows="4" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-white font-mono"></textarea>
                        </div>
                        
                        <button type="submit" class="w-full bg-primary hover:bg-primary-hover text-white py-3 rounded-lg font-medium transition">
                            Demander une assistance
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-dark dark:bg-black text-white pt-12 pb-6 transition-colors duration-300">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-8">
                <div>
                    <div class="flex items-center space-x-2 mb-4">
                        <!-- Mini logo SVG -->
                        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 200 200" fill="none">
                            <circle cx="100" cy="100" r="90" fill="#001B4D" />
                            <circle cx="100" cy="100" r="85" fill="#0A1929" />
                            <path d="M100 50C97.2 50 94.5 50.2 91.8 50.7L88.9 38.2C85.1 39 81.4 40.2 77.9 41.7L82.4 53.6C77.5 56 73.1 59.2 69.3 63L59.3 55.1C56.6 57.7 54.2 60.6 52.1 63.7L63.9 70.1C61.5 74.4 59.7 79.1 58.8 84.1L46.3 82.3C45.5 85.4 45 88.6 45 91.9L57.7 92.5C57.9 97.8 59 102.9 60.9 107.7L49.3 112.5C50.6 115.4 52.2 118.2 54 120.8L64.8 114.9C68.2 119.1 72.3 122.7 77 125.5L72.1 137.2C75.3 138.9 78.7 140.2 82.2 141.2L85.8 128.9C90.4 130.3 95.2 131 100.2 131L101.7 143.7C105 143.5 108.2 142.9 111.2 142L108.5 129.6C113.2 127.8 117.5 125.3 121.2 122.1L131.5 129.7C134.1 127 136.5 124.1 138.5 120.9L127.3 114.7C129.5 110.3 131 105.5 131.7 100.5L144.2 102C144.9 98.9 145.3 95.7 145.3 92.4L132.6 92C132.2 86.8 130.9 81.9 128.9 77.3L140.4 72.3C139 69.5 137.3 66.7 135.4 64.2L124.7 70.2C121.2 66.1 117 62.7 112.2 60L116.9 48.3C113.6 46.7 110.1 45.5 106.6 44.6L103.2 56.9C102.1 56.7 101.1 56.6 100 56.6V50Z" fill="#B87333"/>
                            <circle cx="100" cy="100" r="35" fill="#001B4D" stroke="#4CC9F0" stroke-width="2"/>
                            <circle cx="100" cy="100" r="28" fill="#0A1929" stroke="#4CC9F0" stroke-width="1"/>
                            <path d="M92 90L85 110M85 110H95M92 90H102M102 90L109 110" stroke="#F59E0B" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <h3 class="text-xl font-bold">Auto Pièces <span class="text-blue-500">Équipements</span></h3>
                    </div>
                    <p class="text-gray-400 mb-4">Votre partenaire technologique pour toutes vos pièces automobiles depuis 2016.</p>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white transition">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition">
                            <i class="fab fa-instagram"></i>
                        </a>
                    </div>
                </div>
                
                <div>
                    <h4 class="font-bold text-lg mb-4">Plateforme digitale</h4>
                    <ul class="space-y-2">
                        <li><a href="#accueil" class="text-gray-400 hover:text-white transition">Accueil</a></li>
                        <li><a href="#produits" class="text-gray-400 hover:text-white transition">Catalogue 3D</a></li>
                        <li><a href="#services" class="text-gray-400 hover:text-white transition">Services connectés</a></li>
                        <li><a href="#avis" class="text-gray-400 hover:text-white transition">Expériences clients</a></li>
                        <li><a href="/dashboard.html" class="text-gray-400 hover:text-white transition">Espace client</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-bold text-lg mb-4">Technologies</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Visualisation 3D</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Diagnostic OBD</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Suivi IoT</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Réalité augmentée</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Application mobile</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-bold text-lg mb-4">Informations légales</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Mentions légales</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">CGV</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Politique de confidentialité</a></li>
                        <li><a href="/admin/place-id-finder.html" class="text-gray-400 hover:text-white transition">Administration</a></li>
                        <li><a href="/roadmap-innovation-technique.md" class="text-gray-400 hover:text-white transition">Roadmap technique</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-gray-800 pt-6 flex flex-col md:flex-row justify-between items-center">
                <p class="text-gray-400 text-sm mb-4 md:mb-0 font-mono">&copy; 2023 Auto Pièces Équipements. Tous droits réservés.</p>
                <div class="flex space-x-6">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b7/MasterCard_Logo.svg/1200px-MasterCard_Logo.svg.png" alt="Mastercard" class="h-8">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5e/Visa_Inc._logo.svg/1200px-Visa_Inc._logo.svg.png" alt="Visa" class="h-8">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5c/PayPal.svg/1200px-PayPal.svg.png" alt="Paypal" class="h-8">
                </div>
            </div>
        </div>
    </footer>

    <!-- NOUVEAU: Chatbot -->
    <div class="chatbot-widget">
        <button id="chatbot-toggle" class="bg-primary hover:bg-primary-hover text-white p-4 rounded-full shadow-lg flex items-center justify-center">
            <i class="fas fa-comment-dots text-xl"></i>
        </button>
        
        <div id="chatbot-window" class="chatbot-window bg-white dark:bg-gray-900 rounded-lg shadow-xl overflow-hidden absolute bottom-16 right-0 mb-2">
            <div class="bg-primary px-4 py-3 text-white flex justify-between items-center">
                <h3 class="font-bold">Assistant Technique</h3>
                <button id="close-chatbot" class="text-white hover:text-gray-200">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="p-4 h-80 overflow-y-auto bg-gray-50 dark:bg-gray-800" id="chat-messages">
                <div class="chat-message bot flex mb-4">
                    <div class="w-8 h-8 rounded-full bg-primary flex items-center justify-center text-white mr-2">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="max-w-xs bg-primary text-white p-3 rounded-lg rounded-tl-none">
                        Bonjour ! Je suis l'assistant technique Auto Pièces Équipements. Comment puis-je vous aider aujourd'hui?
                    </div>
                </div>
                <!-- Les messages s'afficheront ici dynamiquement -->
            </div>
            
            <div class="p-3 border-t border-gray-200 dark:border-gray-700">
                <form id="chat-form" class="flex">
                    <input type="text" id="chat-input" class="flex-grow px-3 py-2 bg-gray-100 dark:bg-gray-700 dark:text-white rounded-l-lg focus:outline-none" placeholder="Posez votre question...">
                    <button type="submit" class="bg-primary text-white px-4 py-2 rounded-r-lg hover:bg-primary-hover">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script type="module">
        import { initTechScan } from './scripts/modules/scan-effect.js';
        import { initBadges } from './scripts/modules/badges.js';
        import MCPConnector from './scripts/mcp-connector.js';
        import GoogleReviewsAPI from './scripts/google-reviews-api.js';
        
        // Variables globales pour les fonctionnalités MCP
        let mcpConnector = null;
        let vehicleData = null;
        let engineDataChart = null;
        
        document.addEventListener('DOMContentLoaded', () => {
            // Initialiser les badges et animations
            initBadges();
            initFadeEffects();
            initChatbot();
            initDarkMode();
            
            // Initialiser l'animation de scan dans le hero
            initTechScan('tech-scan-hero', {
                dataPoints: 20,
                xAxisLabel: 'Performance',
                yAxisLabel: 'Compatibilité',
                analysisText: 'RECHERCHE DE PIÈCES COMPATIBLES...'
            });
            
            // Gestion produits et menu mobile
            initProductFilters();
            
            // Toggle du menu mobile
            document.getElementById('menu-toggle')?.addEventListener('click', function() {
                const menu = document.getElementById('mobile-menu');
                menu.classList.toggle('hidden');
            });
            
            // Initialiser la fonctionnalité MCP réelle
            initRealMCP();
            
            // Initialiser les avis Google réels
            initRealGoogleReviews();
        });
        
        // Initialiser la fonctionnalité MCP réelle
        async function initRealMCP() {
            mcpConnector = new MCPConnector();
            
            // Associer le bouton de test MCP
            const testMCPButton = document.getElementById('test-mcp-connection');
            if (testMCPButton) {
                testMCPButton.addEventListener('click', async () => {
                    // Modifier l'apparence du bouton pendant la connexion
                    testMCPButton.innerHTML = '<span class="relative flex items-center"><i class="fas fa-spinner fa-spin mr-3 text-yellow-300"></i><span>Connexion en cours...</span></span>';
                    testMCPButton.disabled = true;
                    
                    try {
                        // Tenter une vraie connexion MCP
                        const result = await mcpConnector.connect();
                        
                        if (result.success) {
                            // Connexion réussie
                            showMCPDiagnosticResults();
                        } else {
                            // Échec de la connexion, montrer un message d'erreur
                            showConnectionErrorModal(result.error);
                        }
                    } catch (error) {
                        console.error("Erreur de connexion MCP:", error);
                        showConnectionErrorModal(error.message);
                    } finally {
                        // Restaurer l'apparence du bouton
                        testMCPButton.innerHTML = '<span class="relative flex items-center"><i class="fas fa-bolt mr-3 text-yellow-300 animate-pulse"></i><span><span class="block font-bold">Tester la connexion MCP</span><span class="text-xs text-blue-200">Diagnostic complet moteur et électronique</span></span></span>';
                        testMCPButton.disabled = false;
                    }
                });
            }
        }
        
        // Initialiser les avis Google réels
        async function initRealGoogleReviews() {
            // Initialiser avec votre Place ID Google et votre clé API
            const reviewsAPI = new GoogleReviewsAPI(
                'your-place-id-here', 
                'your-api-key-here'
            );
            
            try {
                // Afficher les avis réels dans le conteneur
                await reviewsAPI.displayReviews('google-reviews-container');
                
                // Initialiser les filtres après le chargement des avis
                initReviewFilters();
                
                // Initialiser le Model Context Protocol
                initModelContextProtocol();
            } catch (error) {
                console.error("Erreur d'initialisation des avis:", error);
            }
        }
        
        // Afficher les résultats du diagnostic MCP
        async function showMCPDiagnosticResults() {
            // Créer un modal pour afficher les résultats
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-75';
            modal.innerHTML = `
                <div class="bg-gray-900 p-6 rounded-lg shadow-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-bold text-white">Résultats du diagnostic MCP</h3>
                        <button class="text-gray-400 hover:text-white" id="close-mcp-modal">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    <!-- Simulation du scan en temps réel -->
                    <div id="scan-progress" class="mb-4">
                        <div class="flex items-center justify-between mb-2">
                            <div class="text-blue-400 text-sm">
                                <span id="scan-percentage">0%</span> - Analyse en cours...
                            </div>
                            <div id="scan-status" class="text-yellow-400 text-sm font-mono">Initialisation...</div>
                        </div>
                        <div class="h-2 bg-gray-700 rounded-full overflow-hidden">
                            <div id="scan-bar" class="h-full bg-blue-500 w-0 transition-all duration-300"></div>
                        </div>
                    </div>
                    
                    <div id="scan-details" class="space-y-4 opacity-0 transition-opacity duration-300">
                        <!-- Le contenu sera ajouté dynamiquement -->
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // Gérer la fermeture du modal
            document.getElementById('close-mcp-modal').addEventListener('click', () => {
                document.body.removeChild(modal);
                if (mcpConnector) {
                    mcpConnector.disconnect();
                }
            });
            
            // Démarrer le scan réel
            await performRealMCPScan();
        }
        
        // Effectuer un scan MCP réel
        async function performRealMCPScan() {
            const scanBar = document.getElementById('scan-bar');
            const scanPercentage = document.getElementById('scan-percentage');
            const scanStatus = document.getElementById('scan-status');
            const scanDetails = document.getElementById('scan-details');
            
            try {
                // Étape 1: Lecture des paramètres moteur (20%)
                scanBar.style.width = '20%';
                scanPercentage.textContent = '20%';
                scanStatus.textContent = "Lecture des paramètres moteur...";
                
                // Démarrer la collecte de données en temps réel
                const dataPoints = [];
                mcpConnector.startRealtimeData(data => {
                    dataPoints.push(data);
                    // Mettre à jour le graphique si disponible
                    if (engineDataChart) {
                        updateEngineDataChart(data);
                    }
                });
                
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                // Étape 2: Analyse des codes d'erreur (50%)
                scanBar.style.width = '50%';
                scanPercentage.textContent = '50%';
                scanStatus.textContent = "Analyse des codes d'erreur...";
                
                const dtcCodes = await mcpConnector.readDTCs();
                
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                // Étape 3: Recherche de pièces compatibles (80%)
                scanBar.style.width = '80%';
                scanPercentage.textContent = '80%';
                scanStatus.textContent = "Recherche de pièces compatibles...";
                
                // Obtenir des recommandations de l'API
                const recommendations = await fetch('/api/mcp/get-recommendations', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ 
                        dtcCodes,
                        vehicleInfo: {
                            // Ces informations seraient idéalement récupérées du véhicule
                            model: 'Peugeot 308',
                            year: 2019,
                            engine: '1.6 HDI'
                        }
                    })
                }).then(res => res.json());
                
                // Étape 4: Finalisation
                scanBar.style.width = '100%';
                scanPercentage.textContent = '100%';
                scanStatus.textContent = "Diagnostic terminé";
                
                // Afficher les résultats
                if (scanDetails) {
                    // Construire le HTML des résultats
                    scanDetails.innerHTML = buildDiagnosticResultsHTML(
                        dataPoints[dataPoints.length - 1], // Dernières données collectées
                        dtcCodes,
                        recommendations.recommendations
                    );
                    
                    // Afficher les résultats avec animation
                    scanDetails.style.opacity = "1";
                    
                    // Initialiser le graphique
                    initEngineDataChart(dataPoints);
                }
                
            } catch (error) {
                console.error("Erreur durant le scan MCP:", error);
                
                // Afficher l'erreur
                scanStatus.textContent = "Erreur de diagnostic";
                scanStatus.classList.add('text-red-500');
                
                if (scanDetails) {
                    scanDetails.innerHTML = `
                        <div class="bg-red-900/30 text-red-400 p-4 rounded-lg">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-exclamation-triangle mr-2"></i>
                                <span class="font-bold">Erreur de diagnostic</span>
                            </div>
                            <p>${error.message || "Une erreur est survenue pendant le diagnostic"}</p>
                            <button id="retry-mcp-scan" class="mt-3 bg-red-800 hover:bg-red-700 text-white px-4 py-2 rounded">
                                <i class="fas fa-redo mr-2"></i> Réessayer
                            </button>
                        </div>
                    `;
                    scanDetails.style.opacity = "1";
                    
                    // Gérer le bouton de réessai
                    document.getElementById('retry-mcp-scan')?.addEventListener('click', () => {
                        performRealMCPScan();
                    });
                }
            }
        }
        
        // Construire le HTML des résultats
        function buildDiagnosticResultsHTML(engineData, dtcCodes, recommendations) {
            // Construire la section des paramètres moteur
            let engineParamsHTML = '';
            if (engineData) {
                engineParamsHTML = `
                    <div class="bg-gray-800 p-4 rounded-lg">
                        <h4 class="font-bold mb-2 text-blue-400">Paramètres moteur</h4>
                        <div class="grid grid-cols-2 gap-2 text-white">
                            <div class="flex justify-between">
                                <span class="text-gray-400">Régime:</span>
                                <span class="font-mono">${engineData.rpm} tr/min</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">Température:</span>
                                <span class="font-mono">${engineData.temperature}°C</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">Charge moteur:</span>
                                <span class="font-mono">${engineData.engineLoad.toFixed(1)}%</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">Vitesse:</span>
                                <span class="font-mono">${engineData.speed} km/h</span>
                            </div>
                        </div>
                        
                        <!-- Graphique des données en temps réel -->
                        <div class="mt-4 p-3 bg-gray-900 rounded border border-gray-700">
                            <div class="flex justify-between text-xs text-gray-500 mb-1">
                                <span>Historique de performances</span>
                                <span>Dernières 30 secondes</span>
                            </div>
                            <div class="relative h-24 w-full">
                                <canvas id="engine-data-chart" class="w-full h-full"></canvas>
                            </div>
                        </div>
                    </div>
                `;
            }
            
            // Construire la section des codes d'erreur
            let dtcHTML = '';
            if (dtcCodes && dtcCodes.length > 0) {
                const dtcItemsHTML = dtcCodes.map(code => {
                    const recommendation = recommendations.find(r => r.code === code);
                    
                    let severity = 'yellow';
                    let severityText = 'Moyenne';
                    
                    if (recommendation) {
                        if (recommendation.severity === 'high') {
                            severity = 'red';
                            severityText = 'Élevée';
                        } else if (recommendation.severity === 'low') {
                            severity = 'green';
                            severityText = 'Faible';
                        }
                    }
                    
                    return `
                        <div class="p-3 bg-${severity}-900/30 rounded">
                            <div class="flex justify-between mb-1">
                                <span class="font-bold">${code}</span>
                                <span class="text-gray-300">${recommendation ? recommendation.description : 'Code d\'erreur inconnu'}</span>
                            </div>
                            <p class="text-xs text-gray-400">Impact: ${severityText} | Cause probable: ${recommendation ? recommendation.possibleCauses[0] : 'Indéterminée'}</p>
                            <div class="mt-2 text-xs">
                                <a href="#" class="text-blue-400 hover:underline">Comment réparer?</a>
                            </div>
                        </div>
                    `;
                }).join('');
                
                dtcHTML = `
                    <div class="bg-gray-800 p-4 rounded-lg">
                        <h4 class="font-bold mb-2 text-yellow-400 flex items-center">
                            <i class="fas fa-exclamation-triangle mr-2"></i>
                            Codes d'erreur détectés (${dtcCodes.length})
                        </h4>
                        <div class="space-y-2 text-white">
                            ${dtcItemsHTML}
                        </div>
                    </div>
                `;
            } else {
                dtcHTML = `
                    <div class="bg-gray-800 p-4 rounded-lg">
                        <h4 class="font-bold mb-2 text-green-400 flex items-center">
                            <i class="fas fa-check-circle mr-2"></i>
                            Diagnostic du véhicule
                        </h4>
                        <div class="text-white">
                            <p>Aucun code d'erreur détecté. Votre véhicule fonctionne normalement.</p>
                        </div>
                    </div>
                `;
            }
            
            // Construire la section des pièces recommandées
            let partsHTML = '';
            if (recommendations && recommendations.length > 0) {
                // Récupérer toutes les pièces recommandées
                const allParts = [];
                recommendations.forEach(rec => {
                    if (rec.recommendedParts && rec.recommendedParts.length > 0) {
                        rec.recommendedParts.forEach(part => {
                            // Éviter les doublons
                            if (!allParts.some(p => p.id === part.id)) {
                                allParts.push(part);
                            }
                        });
                    }
                });
                
                if (allParts.length > 0) {
                    const partsItemsHTML = allParts.map(part => `
                        <div class="flex items-center justify-between p-3 bg-gray-700 rounded hover:bg-gray-600 transition cursor-pointer">
                            <div>
                                <span class="text-white flex items-center">
                                    <span class="text-green-400 mr-1"><i class="fas fa-star"></i></span>
                                    ${part.name}
                                </span>
                                <p class="text-xs text-gray-300">Réf: ${part.reference} | Compatibilité: ${part.compatibility}%</p>
                            </div>
                            <div class="text-right">
                                <span class="text-white font-bold">${part.price.toFixed(2)} €</span>
                                <span class="block text-xs ${part.inStock ? 'text-green-400' : 'text-red-400'}">
                                    ${part.inStock ? 'En stock' : 'Sur commande'}
                                </span>
                            </div>
                        </div>
                    `).join('');
                    
                    partsHTML = `
                        <div class="bg-gray-800 p-4 rounded-lg">
                            <h4 class="font-bold mb-2 text-green-400">Pièces recommandées</h4>
                            <div class="space-y-2">
                                ${partsItemsHTML}
                            </div>
                        </div>
                    `;
                }
            }
            
            // Assembler le tout
            return `
                <div class="mb-4 p-4 bg-green-900/30 text-green-400 rounded-lg">
                    <div class="flex items-center mb-2">
                        <i class="fas fa-check-circle mr-2"></i>
                        <span class="font-bold">Connexion MCP établie avec succès</span>
                    </div>
                    <p class="text-sm">Protocole: ${mcpConnector.deviceInfo?.protocol || 'MCP v3.2'} | Interface: OBD-II | Appareil: ${mcpConnector.deviceInfo?.name || 'Scanner MCP'}</p>
                </div>
                
                <div class="space-y-4">
                    ${engineParamsHTML}
                    ${dtcHTML}
                    ${partsHTML}
                </div>
                
                <div class="mt-6 flex flex-wrap gap-3 justify-end">
                    <button class="bg-gray-700 text-white px-4 py-2 rounded hover:bg-gray-600 transition flex items-center" id="save-diagnostic">
                        <i class="fas fa-save mr-1"></i> Sauvegarder
                    </button>
                    <button class="bg-gray-700 text-white px-4 py-2 rounded hover:bg-gray-600 transition flex items-center" id="download-mcp-report">
                        <i class="fas fa-download mr-1"></i> Télécharger
                    </button>
                    <button class="bg-gray-700 text-white px-4 py-2 rounded hover:bg-gray-600 transition flex items-center" id="share-diagnostic">
                        <i class="fas fa-share-alt mr-1"></i> Partager
                    </button>
                    <button class="bg-primary text-white px-4 py-2 rounded hover:bg-primary-hover transition flex items-center">
                        <i class="fas fa-cart-plus mr-1"></i> Commander
                    </button>
                </div>
            `;
        }
        
        // Initialiser le graphique des données moteur
        function initEngineDataChart(dataPoints) {
            const ctx = document.getElementById('engine-data-chart')?.getContext('2d');
            if (!ctx) return;
            
            // Préparer les données
            const labels = Array.from({length: dataPoints.length}, (_, i) => i);
            const rpmData = dataPoints.map(d => d.rpm);
            const tempData = dataPoints.map(d => d.temperature);
            
            engineDataChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Régime (tr/min)',
                        data: rpmData,
                        borderColor: 'rgb(75, 192, 192)',
                        tension: 0.4,
                        borderWidth: 2,
                    }, {
                        label: 'Température (°C)',
                        data: tempData,
                        borderColor: 'rgb(255, 99, 132)',
                        tension: 0.4,
                        borderWidth: 2,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    animation: {
                        duration: 0
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: 'rgba(255, 255, 255, 0.5)'
                            }
                        },
                        x: {
                            display: false
                        }
                    },
                    plugins: {
                        legend: {
                            labels: {
                                color: 'rgba(255, 255, 255, 0.7)'
                            }
                        }
                    }
                }
            });
        }
        
        // Mettre à jour le graphique avec de nouvelles données
        function updateEngineDataChart(newData) {
            if (!engineDataChart) return;
            
            // Ajouter les nouvelles données
            engineDataChart.data.labels.push(engineDataChart.data.labels.length);
            engineDataChart.data.datasets[0].data.push(newData.rpm);
            engineDataChart.data.datasets[1].data.push(newData.temperature);
            
            // Supprimer les anciennes données si nécessaire
            if (engineDataChart.data.labels.length > 30) {
                engineDataChart.data.labels.shift();
                engineDataChart.data.datasets.forEach(dataset => {
                    dataset.data.shift();
                });
            }
            
            // Mettre à jour le graphique
            engineDataChart.update();
        }
        
        // Afficher un modal d'erreur de connexion
        function showConnectionErrorModal(errorMessage) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-75';
            modal.innerHTML = `
                <div class="bg-gray-900 p-6 rounded-lg shadow-lg max-w-md w-full">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-bold text-white">Erreur de connexion</h3>
                        <button class="text-gray-400 hover:text-white" id="close-error-modal">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    <div class="bg-red-900/30 text-red-400 p-4 rounded-lg mb-4">
                        <div class="flex items-center mb-2">
                            <i class="fas fa-exclamation-circle mr-2"></i>
                            <span class="font-bold">Impossible de se connecter au dispositif MCP</span>
                        </div>
                        <p>${errorMessage || "Veuillez vérifier que l'appareil est correctement branché et allumé."}</p>
                    </div>
                    
                    <div class="space-y-4 text-gray-300 text-sm">
                        <div>
                            <h4 class="font-bold mb-1">Solutions possibles:</h4>
                            <ul class="list-disc pl-5 space-y-1">
                                <li>Vérifiez que l'appareil MCP est correctement branché au port OBD-II</li>
                                <li>Assurez-vous que le contact du véhicule est mis</li>
                                <li>Vérifiez que le Bluetooth est activé sur votre appareil</li>
                                <li>Redémarrez l'appareil MCP</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="mt-6 flex justify-end gap-3">
                        <button id="try-simulation" class="bg-gray-700 text-white px-4 py-2 rounded hover:bg-gray-600 transition">
                            Essayer en simulation
                        </button>
                        <button id="retry-connection" class="bg-primary text-white px-4 py-2 rounded hover:bg-primary-hover transition">
                            Réessayer
                        </button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // Gérer la fermeture du modal
            document.getElementById('close-error-modal').addEventListener('click', () => {
                document.body.removeChild(modal);
            });
            
            // Gérer le bouton de réessai
            document.getElementById('retry-connection')?.addEventListener('click', () => {
                document.body.removeChild(modal);
                document.getElementById('test-mcp-connection')?.click();
            });
            
            // Gérer le bouton de simulation
            document.getElementById('try-simulation')?.addEventListener('click', () => {
                document.body.removeChild(modal);
                // Lancer la simulation au lieu de la connexion réelle
                showMCPDiagnosticResults();
            });
        }
        
        // ...autres fonctions existantes...
    </script>
</body>
</html>
